var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function e(t,i,n){function s(o,r){if(!i[o]){if(!t[o]){var u="function"==typeof require&&require;if(!r&&u)return u(o,!0);if(l)return l(o,!0);var a=new Error("Cannot find module '"+o+"'");throw a.code="MODULE_NOT_FOUND",a}var c=i[o]={exports:{}};t[o][0].call(c.exports,function(e){var i=t[o][1][e];return s(i||e)},c,c.exports,e,t,i,n)}return i[o].exports}for(var l="function"==typeof require&&require,o=0;o<n.length;o++)s(n[o]);return s}({1:[function(e,t,i){var n,s,l,o,r,u,a,c,h,f=e("./module/dom.js"),d=e("./module/uploader.js"),m=e("./module/canvas.js"),v=e("./module/group.js"),p=e("./module/group-item.js");e("./module/area.js");window,document,n=new d("#upload-file"),s=new m("#canvas"),l=new v("#group"),f("#main"),o=f("#index"),r=f("#upload-img"),f("#upload-option"),u=f("#zoom-in"),a=f("#zoom-out"),c=f("#replace-img"),h=f("#add-group"),o.on("animationend",function(){return o.remove()}),r.on("click",function(){n.open({name:"图片",accept:"image/*"}).on("success",function(e){s.setImage(e),o.addClass("hide")})}),u.on("click",function(){return s.zoomIn()}),a.on("click",function(){return s.zoomOut()}),c.on("click",function(){n.open({name:"图片",accept:"image/*"}).on("success",function(e){s.setImage(e)})}),h.on("click",function(){l.append(new p)}).click()},{"./module/area.js":2,"./module/canvas.js":3,"./module/dom.js":4,"./module/group-item.js":5,"./module/group.js":6,"./module/uploader.js":7}],2:[function(e,t,i){t.exports=function n(){_classCallCheck(this,n)}},{}],3:[function(e,t,i){var n=e("./dom.js"),s=function(){function e(t){_classCallCheck(this,e),this.$el=n(t),this.$img=this.$el.find("img")}return _createClass(e,[{key:"init",value:function(){this.width=this.$img.width(),this.height=this.$img.height(),this.scale=1,this.updateImage()}},{key:"updateImage",value:function(){this.$img.width(this.width*this.scale),this.$img.height(this.height*this.scale)}},{key:"setImage",value:function(e){var t=this;this.$img.clearStyle(),this.$img.attr("src",e),this.$img.on("load",function(){return t.init()},!0)}},{key:"zoomIn",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:.1;this.scale+=e,this.updateImage()}},{key:"zoomOut",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:.1;this.scale>2*e&&(this.scale-=e,this.updateImage())}}]),e}();t.exports=s},{"./dom.js":4}],4:[function(e,t,i){var n=function(){function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:document;_classCallCheck(this,e),/^<(\w+)\s*[\w\=\-\"]*>([\w\W]*)<\/\w+>$/.test(t)?(this.el=document.createElement("div"),this.html(t),this.el=this.el.firstChild,this.els=[this.el]):"object"===(void 0===t?"undefined":_typeof(t))?t instanceof e?(this.el=t.getElement(),this.els=t.getElements()):(this.el=t,this.els=[t]):(this.els=i.querySelectorAll(t),this.el=this.els[0])}return _createClass(e,[{key:"each",value:function(e){this.els.forEach(function(t){e(t)})}},{key:"find",value:function(t){return new e(t,this.el)}},{key:"on",value:function(e,t,i){return i?this.el["on"+e]=t:this.el.addEventListener(e,t),this}},{key:"off",value:function(e,t){return this.el.removeEventListener(e,t),this}},{key:"attr",value:function(e,t){return t||0===t?(this.el.setAttribute(e,t),this):this.el.getAttribute(e,t)}},{key:"removeAttr",value:function(e,t){return this.el.removeAttribute(e,t),this}},{key:"addClass",value:function(){var e;return(e=this.el.classList).add.apply(e,arguments),this}},{key:"removeClass",value:function(){var e;return(e=this.el.classList).remove.apply(e,arguments),this}},{key:"hasClass",value:function(e){return this.el.classList.contains(e)}},{key:"width",value:function(e){if(!e)return this.el.width;this.el.style.width=e+"px"}},{key:"height",value:function(e){if(!e)return this.el.height;this.el.style.height=e+"px"}},{key:"clearStyle",value:function(){return this.el.style.cssText="",this}},{key:"getElement",value:function(){return this.el}},{key:"getElements",value:function(){return this.els}},{key:"append",value:function(t){return t instanceof e&&(t=t.getElement()),this.el.appendChild(t),this}},{key:"remove",value:function(){return this.el.remove(),this}},{key:"replace",value:function(t){return t instanceof e&&(t=t.getElement()),this.parent().getElement().replaceChild(t,this.el),this}},{key:"html",value:function(e){return e?(this.el.innerHTML=e,this):this.el.innerHTML}},{key:"text",value:function(e){return e?(this.el.innerText=e,this):this.el.innerText}},{key:"value",value:function(e){return e?(this.el.value=e,this):this.el.value}},{key:"parent",value:function(){return new e(this.el.parentNode)}},{key:"child",value:function(){return[].concat(_toConsumableArray(this.el.children)).map(function(t){return new e(t)})}},{key:"show",value:function(){return this.removeClass("hidden"),this}},{key:"hide",value:function(){return this.addClass("hidden"),this}},{key:"click",value:function(){return this.el.click(),this}}]),e}();t.exports=function(e){return new n(e)}},{}],5:[function(e,t,i){var n=e("./dom.js"),s=function(){function e(){var t=this;_classCallCheck(this,e),this.$el=n('<li class="item">\n\t\t\t<span class="js-status status">\n\t\t\t\t<i class="js-show icon icon-show" title="隐藏"></i>\n\t\t\t\t<i class="js-hide icon icon-hide hidden" title="显示"></i>\n\t\t\t</span>\n\t\t\t<p class="js-name single-line" title="分组名">分组名</p>\n\t\t\t<input class="js-input edit-text hidden" autocomplete="off"/>\n\t\t\t<span class="ctrl">\n\t\t\t\t<i class="js-edit icon icon-edit" title="重命名"></i>\n\t\t\t\t<i class="js-submit icon icon-submit hidden" title="确定"></i>\n\t\t\t\t<i class="js-delete icon icon-delete" title="删除"></i>\n\t\t\t</span>\n\t\t</li>');var i=this.$el.find(".js-status"),s=this.$el.find(".js-show"),l=this.$el.find(".js-hide"),o=this.$el.find(".js-name"),r=this.$el.find(".js-input"),u=this.$el.find(".js-edit"),a=this.$el.find(".js-submit");this.$el.find(".js-delete");this.$el.on("click",function(){return t.emit("click")}),i.on("click",function(e){e.stopPropagation(),s.hasClass("hidden")?(s.show(),l.hide()):(s.hide(),l.show()),t.emit("status")}),u.on("click",function(){u.hide(),a.show(),o.hide(),r.show().value(o.text())}),a.on("click",function(){!1!==t.emit("reName")&&(u.show(),a.hide(),o.show().text(r.value()).attr("title",r.value()),r.hide())}),r.on("blur",function(){return a.click()})}return _createClass(e,[{key:"getElement",value:function(){return this.$el}},{key:"getName",value:function(){return this.name}},{key:"setName",value:function(e){return this.name=e,this.$el.find(".js-name").attr("title",e).text(e),this}},{key:"setActive",value:function(){return this.$el.addClass("active"),this}},{key:"isActive",value:function(){return this.$el.hasClass("active")}},{key:"removeActive",value:function(){return this.$el.removeClass("active"),this}},{key:"emit",value:function(e){if("function"==typeof this[e+"Handler"])return this[e+"Handler"]()}},{key:"on",value:function(e,t){return this[e+"Handler"]=t,this}}]),e}();t.exports=s},{"./dom.js":4}],6:[function(e,t,i){var n=e("./dom.js"),s=function(){function e(t){_classCallCheck(this,e),this.$el=n(t),this.children=[]}return _createClass(e,[{key:"initItem",value:function(e,t){var i=this;!1!==t&&e.setName("分组"+(this.length()+1)),e.on("click",function(){i.chooseActive(e)})}},{key:"checkActive",value:function(){this.children.some(function(e){return e.isActive()})||this.children[0].setActive()}},{key:"chooseActive",value:function(e){e.setActive(),this.children.forEach(function(t){t!==e&&t.removeActive()})}},{key:"append",value:function(e){this.initItem(e),this.$el.append(e.getElement()),this.children.push(e),this.checkActive()}},{key:"remove",value:function(e){this.children.length>1&&(e.getElement().remove(),this.children.splice(this.children.indexOf(this.$el),1))}},{key:"length",value:function(){return this.children.length}}]),e}();t.exports=s},{"./dom.js":4}],7:[function(e,t,i){var n=e("./dom.js"),s=function(){function e(t){_classCallCheck(this,e);var i=this;this.$el=n(t),this.init(),this.$el.on("change",function(){var e=this.files[0];if(!e)return this.value="",!1;if(!1===i.emit("choose",e))return this.value="",!1;var t=new FileReader;t.onload=function(e){i.emit("success",e.target.result,e)},t.onerror=function(e){i.emit("error",e)},t.readAsDataURL(e),this.value=""})}return _createClass(e,[{key:"init",value:function(){var e=this;this.successHandler=function(){},this.errorHandler=function(){return alert((e.options.name||"文件")+"读取错误")},this.$el.removeAttr("accept")}},{key:"open",value:function(e){return this.init(),this.options=e||{},this.options.accept&&this.$el.attr("accept",e.accept),this.$el.click(),this}},{key:"on",value:function(e,t){return this[e+"Handler"]=t,this}},{key:"emit",value:function(e){if("function"==typeof this[e+"Handler"]){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return this[e+"Handler"].apply(this,i)}}}]),e}();t.exports=s},{"./dom.js":4}]},{},[1]);
//# sourceMappingURL=customize.js.map
