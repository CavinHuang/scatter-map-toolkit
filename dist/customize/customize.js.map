{"version":3,"sources":["../node_modules/.6.0.4@browser-pack/_prelude.js","../src/customize/customize.js","../src/customize/module/area.js","../src/customize/module/canvas.js","../src/customize/module/dom.js","../src/customize/module/group-item.js","../src/customize/module/group.js","../src/customize/module/uploader.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","uploader","canvas","group","$index","$uploadImg","$zoomIn","$zoomOut","$replaceImg","$addGroup","$","Uploader","Canvas","Group","GroupItem","window","document","on","remove","open","name","accept","data","setImage","addClass","zoomIn","zoomOut","append","click","./module/area.js","./module/canvas.js","./module/dom.js","./module/group-item.js","./module/group.js","./module/uploader.js","2","Area","_classCallCheck","this","selector","$el","$img","find","_createClass","key","value","width","height","scale","updateImage","src","_this","clearStyle","attr","init","count","arguments","undefined","./dom.js","4","DOM","el","test","createElement","html","firstChild","els","_typeof","getElement","getElements","querySelectorAll","handler","forEach","event","isSingle","addEventListener","removeEventListener","setAttribute","getAttribute","removeAttribute","_el$classList","classList","add","apply","_el$classList2","contains","val","style","cssText","appendChild","parent","replaceChild","innerHTML","str","innerText","parentNode","concat","_toConsumableArray","children","map","removeClass","5","_this2","$status","$showStatus","$hideStatus","$nameText","$nameInput","$edit","$submit","emit","stopPropagation","hasClass","show","hide","text","6","$item","isNew","_this3","setName","chooseActive","some","$temp","isActive","setActive","removeActive","initItem","push","checkActive","splice","indexOf","7","self","file","files","reader","FileReader","onload","target","result","onerror","readAsDataURL","_this4","successHandler","errorHandler","alert","options","removeAttr","_len","params","Array","_key"],"mappings":"4sBAAA,SAAAA,EAAAC,EAAAC,EAAAC,GAAA,SAAAC,EAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,IAAAE,EAAA,mBAAAC,SAAAA,QAAA,IAAAF,GAAAC,EAAA,OAAAA,EAAAF,GAAA,GAAA,GAAAI,EAAA,OAAAA,EAAAJ,GAAA,GAAA,IAAAK,EAAA,IAAAC,MAAA,uBAAAN,EAAA,KAAA,MAAAK,EAAAE,KAAA,mBAAAF,EAAA,IAAAG,EAAAX,EAAAG,IAAAS,YAAAb,EAAAI,GAAA,GAAAU,KAAAF,EAAAC,QAAA,SAAAd,GAAA,IAAAE,EAAAD,EAAAI,GAAA,GAAAL,GAAA,OAAAI,EAAAF,GAAAF,IAAAa,EAAAA,EAAAC,QAAAd,EAAAC,EAAAC,EAAAC,GAAA,OAAAD,EAAAG,GAAAS,QAAA,IAAA,IAAAL,EAAA,mBAAAD,SAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAa,OAAAX,IAAAD,EAAAD,EAAAE,IAAA,OAAAD,EAAA,EAAAa,GAAA,SAAAT,EAAAU,EAAAJ,GCAA,IASAK,EACAC,EACAC,EAGAC,EACAC,EAEAC,EACAC,EACAC,EACAC,EApBAC,EAAApB,EAAA,mBACAqB,EAAArB,EAAA,wBACAsB,EAAAtB,EAAA,sBACAuB,EAAAvB,EAAA,qBACAwB,EAAAxB,EAAA,0BACAA,EAAA,oBA8CAyB,OAAAC,SA1CAf,EAAA,IAAAU,EAAA,gBACAT,EAAA,IAAAU,EAAA,WACAT,EAAA,IAAAU,EAAA,UAEAH,EAAA,SACAN,EAAAM,EAAA,UACAL,EAAAK,EAAA,eACAA,EAAA,kBACAJ,EAAAI,EAAA,YACAH,EAAAG,EAAA,aACAF,EAAAE,EAAA,gBACAD,EAAAC,EAAA,cAEAN,EAAAa,GAAA,eAAA,WAAA,OAAAb,EAAAc,WAEAb,EAAAY,GAAA,QAAA,WACAhB,EAAAkB,MACAC,KAAA,KACAC,OAAA,YACAJ,GAAA,UAAA,SAAAK,GACApB,EAAAqB,SAAAD,GACAlB,EAAAoB,SAAA,YAIAlB,EAAAW,GAAA,QAAA,WAAA,OAAAf,EAAAuB,WAEAlB,EAAAU,GAAA,QAAA,WAAA,OAAAf,EAAAwB,YAEAlB,EAAAS,GAAA,QAAA,WACAhB,EAAAkB,MACAC,KAAA,KACAC,OAAA,YACAJ,GAAA,UAAA,SAAAK,GACApB,EAAAqB,SAAAD,OAIAb,EAAAQ,GAAA,QAAA,WACAd,EAAAwB,OAAA,IAAAb,KACAc,UAxBAC,mBAGA,EAAAC,qBAAA,EAAAC,kBAAA,EAAAC,yBAAA,EAAAC,oBAAA,EAAAC,uBAAA,IAAAC,GAAA,SAAA7C,EAAAU,EAAAJ,GCxBAI,EAAAJ,QDwBA,SAAAwC,IAAAC,gBAAAC,KAAAF,SAMA9B,GAAAA,SAAAhB,EAAAU,EAAAJ,GElCA,IAAAc,EAAApB,EAAA,YAEAsB,EFgCA,WE9BA,SAAAA,EAAA2B,GAAAF,gBAAAC,KAAA1B,GACA0B,KAAAE,IAAA9B,EAAA6B,GACAD,KAAAG,KAAAH,KAAAE,IAAAE,KAAA,OF4BA,OAAAC,aAAA/B,IAAAgC,IAAA,OAAAC,MAAA,WExBAP,KAAAQ,MAAAR,KAAAG,KAAAK,QACAR,KAAAS,OAAAT,KAAAG,KAAAM,SACAT,KAAAU,MAAA,EACAV,KAAAW,iBFqBAL,IAAA,cAAAC,MAAA,WEjBAP,KAAAG,KAAAK,MAAAR,KAAAQ,MAAAR,KAAAU,OACAV,KAAAG,KAAAM,OAAAT,KAAAS,OAAAT,KAAAU,UFgBAJ,IAAA,WAAAC,MAAA,SEbAK,GAAA,IAAAC,EAAAb,KACAA,KAAAG,KAAAW,aACAd,KAAAG,KAAAY,KAAA,MAAAH,GACAZ,KAAAG,KAAAxB,GAAA,OAAA,WAAA,OAAAkC,EAAAG,SAAA,MFUAV,IAAA,SAAAC,MAAA,WEPA,IAAAU,EAAAC,UAAA1D,OAAA,GAAA0D,UAAA,KAAAC,UAAAD,UAAA,GAAA,GACAlB,KAAAU,OAAAO,EACAjB,KAAAW,iBFKAL,IAAA,UAAAC,MAAA,WEFA,IAAAU,EAAAC,UAAA1D,OAAA,GAAA0D,UAAA,KAAAC,UAAAD,UAAA,GAAA,GACAlB,KAAAU,MAAA,EAAAO,IACAjB,KAAAU,OAAAO,EACAjB,KAAAW,mBFDArC,EAAA,GEOAZ,EAAAJ,QAAAgB,IA7BA8C,WAAAV,IAAAW,GAAA,SAAArE,EAAAU,EAAAJ,GAAA,ICZAgE,EDYA,WCVA,SAAAA,EAAArB,GAAA,IAAAsB,EAAAL,UAAA1D,OAAA,GAAA0D,UAAA,KAAAC,UAAAD,UAAA,GAAAxC,SAAAqB,gBAAAC,KAAAsB,GACA,0CAAAE,KAAAvB,IACAD,KAAAuB,GAAA7C,SAAA+C,cAAA,OACAzB,KAAA0B,KAAAzB,GACAD,KAAAuB,GAAAvB,KAAAuB,GAAAI,WACA3B,KAAA4B,KAAA5B,KAAAuB,KACA,iBAAA,IAAAtB,EAAA,YAAA4B,QAAA5B,IAEAA,aAAAqB,GACAtB,KAAAuB,GAAAtB,EAAA6B,aACA9B,KAAA4B,IAAA3B,EAAA8B,gBAGA/B,KAAAuB,GAAAtB,EACAD,KAAA4B,KAAA3B,KAIAD,KAAA4B,IAAAL,EAAAS,iBAAA/B,GACAD,KAAAuB,GAAAvB,KAAA4B,IAAA,IDTA,OAAAvB,aAAAiB,IAAAhB,IAAA,OAAAC,MAAA,SCaA0B,GACAjC,KAAA4B,IAAAM,QAAA,SAAAX,GACAU,EAAAV,QDfAjB,IAAA,OAAAC,MAAA,SCmBAN,GACA,OAAA,IAAAqB,EAAArB,EAAAD,KAAAuB,ODpBAjB,IAAA,KAAAC,MAAA,SCuBA4B,EAAAF,EAAAG,GAMA,OALAA,EACApC,KAAAuB,GAAA,KAAAY,GAAAF,EAEAjC,KAAAuB,GAAAc,iBAAAF,EAAAF,GAEAjC,QD7BAM,IAAA,MAAAC,MAAA,SCgCA4B,EAAAF,GAEA,OADAjC,KAAAuB,GAAAe,oBAAAH,EAAAF,GACAjC,QDlCAM,IAAA,OAAAC,MAAA,SCqCAD,EAAAC,GACA,OAAAA,GAAA,IAAAA,GACAP,KAAAuB,GAAAgB,aAAAjC,EAAAC,GACAP,MAEAA,KAAAuB,GAAAiB,aAAAlC,EAAAC,MD1CAD,IAAA,aAAAC,MAAA,SC8CAD,EAAAC,GAEA,OADAP,KAAAuB,GAAAkB,gBAAAnC,EAAAC,GACAP,QDhDAM,IAAA,WAAAC,MAAA,WCmDA,IAAAmC,EAEA,OADAA,EAAA1C,KAAAuB,GAAAoB,WAAAC,IAAAC,MAAAH,EAAAxB,WACAlB,QDrDAM,IAAA,cAAAC,MAAA,WCwDA,IAAAuC,EAEA,OADAA,EAAA9C,KAAAuB,GAAAoB,WAAA/D,OAAAiE,MAAAC,EAAA5B,WACAlB,QD1DAM,IAAA,WAAAC,MAAA,SC6DAzB,GACA,OAAAkB,KAAAuB,GAAAoB,UAAAI,SAAAjE,MD9DAwB,IAAA,QAAAC,MAAA,SCiEAyC,GACA,IAAAA,EAGA,OAAAhD,KAAAuB,GAAAf,MAFAR,KAAAuB,GAAA0B,MAAAzC,MAAAwC,EAAA,QDnEA1C,IAAA,SAAAC,MAAA,SCyEAyC,GACA,IAAAA,EAGA,OAAAhD,KAAAuB,GAAAd,OAFAT,KAAAuB,GAAA0B,MAAAxC,OAAAuC,EAAA,QD3EA1C,IAAA,aAAAC,MAAA,WCmFA,OADAP,KAAAuB,GAAA0B,MAAAC,QAAA,GACAlD,QDnFAM,IAAA,aAAAC,MAAA,WCuFA,OAAAP,KAAAuB,MDvFAjB,IAAA,cAAAC,MAAA,WC2FA,OAAAP,KAAA4B,OD3FAtB,IAAA,SAAAC,MAAA,SC8FAgB,GAKA,OAJAA,aAAAD,IACAC,EAAAA,EAAAO,cAEA9B,KAAAuB,GAAA4B,YAAA5B,GACAvB,QDnGAM,IAAA,SAAAC,MAAA,WCwGA,OADAP,KAAAuB,GAAA3C,SACAoB,QDxGAM,IAAA,UAAAC,MAAA,SC2GAgB,GAKA,OAJAA,aAAAD,IACAC,EAAAA,EAAAO,cAEA9B,KAAAoD,SAAAtB,aAAAuB,aAAA9B,EAAAvB,KAAAuB,IACAvB,QDhHAM,IAAA,OAAAC,MAAA,SCmHAmB,GACA,OAAAA,GACA1B,KAAAuB,GAAA+B,UAAA5B,EACA1B,MAEAA,KAAAuB,GAAA+B,aDxHAhD,IAAA,OAAAC,MAAA,SC4HAgD,GACA,OAAAA,GACAvD,KAAAuB,GAAAiC,UAAAD,EACAvD,MAEAA,KAAAuB,GAAAiC,aDjIAlD,IAAA,QAAAC,MAAA,SCqIAyC,GACA,OAAAA,GACAhD,KAAAuB,GAAAhB,MAAAyC,EACAhD,MAEAA,KAAAuB,GAAAhB,SD1IAD,IAAA,SAAAC,MAAA,WC+IA,OAAA,IAAAe,EAAAtB,KAAAuB,GAAAkC,eD/IAnD,IAAA,QAAAC,MAAA,WCmJA,SAAAmD,OAAAC,mBAAA3D,KAAAuB,GAAAqC,WAAAC,IAAA,SAAAtC,GACA,OAAA,IAAAD,EAAAC,QDpJAjB,IAAA,OAAAC,MAAA,WC0JA,OADAP,KAAA8D,YAAA,UACA9D,QD1JAM,IAAA,OAAAC,MAAA,WC+JA,OADAP,KAAAd,SAAA,UACAc,QD/JAM,IAAA,QAAAC,MAAA,WCoKA,OADAP,KAAAuB,GAAAjC,QACAU,SDpKAsB,EAAA,GCwKA5D,EAAAJ,QAAA,SAAA2C,GAAA,OAAA,IAAAqB,EAAArB,SAjEA8D,GAAA,SAAAnF,EAAAlB,EAAAJ,GCnHA,IAAAc,EAAApB,EAAA,YAEAwB,EDiHA,WChHA,SAAAA,IAAA,IAAAwF,EAAAhE,KAAAD,gBAAAC,KAAAxB,GACAwB,KAAAE,IAAA9B,EAAAA,6jBAcA,IAAA6F,EAAAjE,KAAAE,IAAAE,KAAA,cACA8D,EAAAlE,KAAAE,IAAAE,KAAA,YACA+D,EAAAnE,KAAAE,IAAAE,KAAA,YACAgE,EAAApE,KAAAE,IAAAE,KAAA,YACAiE,EAAArE,KAAAE,IAAAE,KAAA,aACAkE,EAAAtE,KAAAE,IAAAE,KAAA,YACAmE,EAAAvE,KAAAE,IAAAE,KAAA,cACAJ,KAAAE,IAAAE,KAAA,cAEAJ,KAAAE,IAAAvB,GAAA,QAAA,WAAA,OAAAqF,EAAAQ,KAAA,WAEAP,EAAAtF,GAAA,QAAA,SAAAnC,GAEAA,EAAAiI,kBAEAP,EAAAQ,SAAA,WACAR,EAAAS,OACAR,EAAAS,SAEAV,EAAAU,OACAT,EAAAQ,QAGAX,EAAAQ,KAAA,YAGAF,EAAA3F,GAAA,QAAA,WACA2F,EAAAM,OACAL,EAAAI,OACAP,EAAAQ,OACAP,EACAM,OACApE,MAAA6D,EAAAS,UAGAN,EAAA5F,GAAA,QAAA,YAIA,IAFAqF,EAAAQ,KAAA,YAGAF,EAAAK,OACAJ,EAAAK,OACAR,EACAO,OACAE,KAAAR,EAAA9D,SACAQ,KAAA,QAAAsD,EAAA9D,SACA8D,EAAAO,UAKAP,EAAA1F,GAAA,OAAA,WAAA,OAAA4F,EAAAjF,UD8CA,OAAAe,aAAA7B,IAAA8B,IAAA,aAAAC,MAAA,WCzCA,OAAAP,KAAAE,ODyCAI,IAAA,UAAAC,MAAA,WCrCA,OAAAP,KAAAlB,QDqCAwB,IAAA,UAAAC,MAAA,SClCAzB,GAQA,OAPAkB,KAAAlB,KAAAA,EAEAkB,KAAAE,IACAE,KAAA,YACAW,KAAA,QAAAjC,GACA+F,KAAA/F,GAEAkB,QD0BAM,IAAA,YAAAC,MAAA,WCrBA,OADAP,KAAAE,IAAAhB,SAAA,UACAc,QDqBAM,IAAA,WAAAC,MAAA,WCjBA,OAAAP,KAAAE,IAAAwE,SAAA,aDiBApE,IAAA,eAAAC,MAAA,WCZA,OADAP,KAAAE,IAAA4D,YAAA,UACA9D,QDYAM,IAAA,OAAAC,MAAA,SCTA4B,GACA,GAAA,mBAAAnC,KAAAmC,EAAA,WACA,OAAAnC,KAAAmC,EAAA,gBDOA7B,IAAA,KAAAC,MAAA,SCHA4B,EAAAF,GAEA,OADAjC,KAAAmC,EAAA,WAAAF,EACAjC,SDCAxB,EAAA,GCIAd,EAAAJ,QAAAkB,IAzEA+F,WAAAI,IAAAG,GAAA,SAAA9H,EAAAU,EAAAJ,GC9CA,IAAAc,EAAApB,EAAA,YAEAuB,ED4CA,WC3CA,SAAAA,EAAA0B,GAAAF,gBAAAC,KAAAzB,GACAyB,KAAAE,IAAA9B,EAAA6B,GACAD,KAAA4D,YDyCA,OAAAvD,aAAA9B,IAAA+B,IAAA,WAAAC,MAAA,SCtCAwE,EAAAC,GAAA,IAAAC,EAAAjF,MACA,IAAAgF,GACAD,EAAAG,QAAA,MAAAlF,KAAAxC,SAAA,IAGAuH,EAAApG,GAAA,QAAA,WACAsG,EAAAE,aAAAJ,QDgCAzE,IAAA,cAAAC,MAAA,WC3BAP,KAAA4D,SAAAwB,KAAA,SAAAC,GACA,OAAAA,EAAAC,cAEAtF,KAAA4D,SAAA,GAAA2B,eDwBAjF,IAAA,eAAAC,MAAA,SCpBAwE,GACAA,EAAAQ,YACAvF,KAAA4D,SAAA1B,QAAA,SAAAmD,GACAA,IAAAN,GACAM,EAAAG,oBDgBAlF,IAAA,SAAAC,MAAA,SCXAwE,GACA/E,KAAAyF,SAAAV,GACA/E,KAAAE,IAAAb,OAAA0F,EAAAjD,cACA9B,KAAA4D,SAAA8B,KAAAX,GACA/E,KAAA2F,iBDOArF,IAAA,SAAAC,MAAA,SCJAwE,GACA/E,KAAA4D,SAAApG,OAAA,IACAuH,EAAAjD,aAAAlD,SACAoB,KAAA4D,SAAAgC,OAAA5F,KAAA4D,SAAAiC,QAAA7F,KAAAE,KAAA,ODCAI,IAAA,SAAAC,MAAA,WCIA,OAAAP,KAAA4D,SAAApG,WDJAe,EAAA,GCQAb,EAAAJ,QAAAiB,IDiDA6C,WAAA,IAAA0E,GAAA,SAAA9I,EAAAU,EAAAJ,GEvGA,IAAAc,EAAApB,EAAA,YAEAqB,EFqGA,WEnGA,SAAAA,EAAA4B,GAAAF,gBAAAC,KAAA3B,GAEA,IAAA0H,EAAA/F,KAEAA,KAAAE,IAAA9B,EAAA6B,GAEAD,KAAAgB,OAEAhB,KAAAE,IAAAvB,GAAA,SAAA,WACA,IAAAqH,EAAAhG,KAAAiG,MAAA,GAEA,IAAAD,EAEA,OADAhG,KAAAO,MAAA,IACA,EAIA,IAAA,IADAwF,EAAAvB,KAAA,SAAAwB,GAGA,OADAhG,KAAAO,MAAA,IACA,EAGA,IAAA2F,EAAA,IAAAC,WAEAD,EAAAE,OAAA,SAAA5J,GACAuJ,EAAAvB,KAAA,UAAAhI,EAAA6J,OAAAC,OAAA9J,IAGA0J,EAAAK,QAAA,SAAA/J,GACAuJ,EAAAvB,KAAA,QAAAhI,IAGA0J,EAAAM,cAAAR,GAEAhG,KAAAO,MAAA,KFiEA,OAAAF,aAAAhC,IAAAiC,IAAA,OAAAC,MAAA,WE7DA,IAAAkG,EAAAzG,KACAA,KAAA0G,eAAA,aACA1G,KAAA2G,aAAA,WAAA,OAAAC,OAAAH,EAAAI,QAAA/H,MAAA,MAAA,SACAkB,KAAAE,IAAA4G,WAAA,aF0DAxG,IAAA,OAAAC,MAAA,SEvDAsG,GAUA,OATA7G,KAAAgB,OACAhB,KAAA6G,QAAAA,MAEA7G,KAAA6G,QAAA9H,QACAiB,KAAAE,IAAAa,KAAA,SAAA8F,EAAA9H,QAGAiB,KAAAE,IAAAZ,QAEAU,QF6CAM,IAAA,KAAAC,MAAA,SEzCA4B,EAAAF,GAEA,OADAjC,KAAAmC,EAAA,WAAAF,EACAjC,QFuCAM,IAAA,OAAAC,MAAA,SEpCA4B,GACA,GAAA,mBAAAnC,KAAAmC,EAAA,WAAA,CAAA,IAAA,IAAA4E,EAAA7F,UAAA1D,OADAwJ,EACAC,MAAAF,EAAA,EAAAA,EAAA,EAAA,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IADAF,EACAE,EAAA,GAAAhG,UAAAgG,GACA,OAAAlH,KAAAmC,EAAA,WAAAU,MAAA7C,KAAAgH,QFkCA3I,EAAA,GE7BAX,EAAAJ,QAAAe,ID9BA0G,WAAAjD,SAAA","file":"customize.js","sourcesContent":["(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()","const $ = require('./module/dom.js');\nconst Uploader = require('./module/uploader.js');\nconst Canvas = require('./module/canvas.js');\nconst Group = require('./module/group.js');\nconst GroupItem = require('./module/group-item.js');\nconst Area = require('./module/area.js');\n\n;(function(win, doc) {\n\t\n\tconst uploader = new Uploader('#upload-file');\n\tconst canvas = new Canvas('#canvas');\n\tconst group = new Group('#group')\n\n\tconst $main = $('#main');\n\tconst $index = $('#index');\n\tconst $uploadImg = $('#upload-img');\n\tconst $uploadOption = $('#upload-option');\n\tconst $zoomIn = $('#zoom-in');\n\tconst $zoomOut = $('#zoom-out');\n\tconst $replaceImg = $('#replace-img');\n\tconst $addGroup = $('#add-group');\n\n\t$index.on('animationend', () => $index.remove());\n\n\t$uploadImg.on('click', () => {\n\t\tuploader.open({\n\t\t\tname: '图片',\n\t\t\taccept: 'image/*'\n\t\t}).on('success', (data) => {\n\t\t\tcanvas.setImage(data);\n\t\t\t$index.addClass('hide');\n\t\t});\n\t});\n\n\t$zoomIn.on('click', () => canvas.zoomIn());\n\n\t$zoomOut.on('click', () => canvas.zoomOut());\n\n\t$replaceImg.on('click', () => {\n\t\tuploader.open({\n\t\t\tname: '图片',\n\t\t\taccept: 'image/*'\n\t\t}).on('success', (data) => {\n\t\t\tcanvas.setImage(data);\n\t\t});\n\t});\n\n\t$addGroup.on('click', () => {\n\t\tgroup.append(new GroupItem());\n\t}).click();\n\n})(window, document);","class Area {\n\n}\n\nmodule.exports = Area;","const $ = require('./dom.js');\n\nclass Canvas {\n\n\tconstructor(selector) {\n\t\tthis.$el = $(selector);\n\t\tthis.$img = this.$el.find('img');\n\t}\n\n\tinit() {\n\t\tthis.width = this.$img.width();\n\t\tthis.height = this.$img.height();\n\t\tthis.scale = 1;\n\t\tthis.updateImage();\n\t}\n\n\tupdateImage() {\n\t\tthis.$img.width(this.width * this.scale);\n\t\tthis.$img.height(this.height * this.scale);\n\t}\n\n\tsetImage(src) {\n\t\tthis.$img.clearStyle();\n\t\tthis.$img.attr('src', src);\n\t\tthis.$img.on('load', () => this.init(), true);\n\t}\n\n\tzoomIn(count = 0.1) {\n\t\tthis.scale += count;\n\t\tthis.updateImage();\n\t}\n\n\tzoomOut(count = 0.1) {\n\t\tif (this.scale > count * 2) {\n\t\t\tthis.scale -= count;\n\t\t\tthis.updateImage();\n\t\t}\n\t}\n\n}\n\nmodule.exports = Canvas;","class DOM {\n\n\tconstructor(selector, el = document) {\n\t\tif (/^<(\\w+)\\s*[\\w\\=\\-\\\"]*>([\\w\\W]*)<\\/\\w+>$/.test(selector)) {\n\t\t\tthis.el = document.createElement('div');\n\t\t\tthis.html(selector);\n\t\t\tthis.el = this.el.firstChild;\n\t\t\tthis.els = [this.el];\n\t\t} else if (typeof selector === 'object') {\n\n\t\t\tif (selector instanceof DOM) {\n\t\t\t\tthis.el = selector.getElement();\n\t\t\t\tthis.els = selector.getElements();\n\n\t\t\t} else {\n\t\t\t\tthis.el = selector;\n\t\t\t\tthis.els = [selector];\t\n\t\t\t}\n\t\t\t\n\t\t} else {\n\t\t\tthis.els = el.querySelectorAll(selector);\n\t\t\tthis.el = this.els[0];\n\t\t}\n\t}\n\n\teach(handler) {\n\t\tthis.els.forEach((el) => {\n\t\t\thandler(el);\n\t\t});\n\t}\n\n\tfind(selector) {\n\t\treturn new DOM(selector, this.el);\n\t}\n\n\ton(event, handler, isSingle) {\n\t\tif (isSingle) {\n\t\t\tthis.el['on' + event] = handler;\n\t\t} else {\n\t\t\tthis.el.addEventListener(event, handler);\n\t\t}\n\t\treturn this;\n\t}\n\n\toff(event, handler) {\n\t\tthis.el.removeEventListener(event, handler);\n\t\treturn this;\n\t}\n\n\tattr(key, value) {\n\t\tif (value || value === 0) {\n\t\t\tthis.el.setAttribute(key, value);\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn this.el.getAttribute(key, value);\n\t\t}\n\t}\n\n\tremoveAttr(key, value) {\n\t\tthis.el.removeAttribute(key, value);\n\t\treturn this;\n\t}\n\n\taddClass(...names) {\n\t\tthis.el.classList.add(...names);\n\t\treturn this;\n\t}\n\n\tremoveClass(...names) {\n\t\tthis.el.classList.remove(...names);\n\t\treturn this;\n\t}\n\n\thasClass(name) {\n\t\treturn this.el.classList.contains(name);\n\t}\n\n\twidth(val) {\n\t\tif (val) {\n\t\t\tthis.el.style.width = val + 'px';\n\t\t} else {\n\t\t\treturn this.el.width;\n\t\t}\n\t}\n\n\theight(val) {\n\t\tif (val) {\n\t\t\tthis.el.style.height = val + 'px';\n\t\t} else {\n\t\t\treturn this.el.height;\n\t\t}\n\t}\n\n\tclearStyle() {\n\t\tthis.el.style.cssText = '';\n\t\treturn this;\n\t}\n\n\tgetElement() {\n\t\treturn this.el;\n\t}\n\n\tgetElements() {\n\t\treturn this.els;\n\t}\n\n\tappend(el) {\n\t\tif (el instanceof DOM) {\n\t\t\tel = el.getElement();\n\t\t}\n\t\tthis.el.appendChild(el);\n\t\treturn this;\n\t}\n\n\tremove() {\n\t\tthis.el.remove();\n\t\treturn this;\n\t}\n\n\treplace(el) {\n\t\tif (el instanceof DOM) {\n\t\t\tel = el.getElement();\n\t\t}\n\t\tthis.parent().getElement().replaceChild(el, this.el);\n\t\treturn this;\n\t}\n\n\thtml(html) {\n\t\tif (html) {\n\t\t\tthis.el.innerHTML = html;\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn this.el.innerHTML;\n\t\t}\n\t}\n\n\ttext(str) {\n\t\tif (str) {\n\t\t\tthis.el.innerText = str;\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn this.el.innerText;\n\t\t}\n\t}\n\n\tvalue(val) {\n\t\tif (val) {\n\t\t\tthis.el.value = val;\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn this.el.value;\n\t\t}\n\t}\n\n\tparent() {\n\t\treturn new DOM(this.el.parentNode);\n\t}\n\n\tchild() {\n\t\treturn [...this.el.children].map((el) => {\n\t\t\treturn new DOM(el);\n\t\t});\n\t}\n\n\tshow() {\n\t\tthis.removeClass('hidden');\n\t\treturn this;\n\t}\n\n\thide() {\n\t\tthis.addClass('hidden');\n\t\treturn this;\n\t}\n\n\tclick() {\n\t\tthis.el.click();\n\t\treturn this;\n\t}\n}\n\nmodule.exports = (selector) => new DOM(selector);","const $ = require('./dom.js');\n\nclass GroupItem {\n\tconstructor() {\n\t\tthis.$el = $(`<li class=\"item\">\n\t\t\t<span class=\"js-status status\">\n\t\t\t\t<i class=\"js-show icon icon-show\" title=\"隐藏\"></i>\n\t\t\t\t<i class=\"js-hide icon icon-hide hidden\" title=\"显示\"></i>\n\t\t\t</span>\n\t\t\t<p class=\"js-name single-line\" title=\"分组名\">分组名</p>\n\t\t\t<input class=\"js-input edit-text hidden\" autocomplete=\"off\"/>\n\t\t\t<span class=\"ctrl\">\n\t\t\t\t<i class=\"js-edit icon icon-edit\" title=\"重命名\"></i>\n\t\t\t\t<i class=\"js-submit icon icon-submit hidden\" title=\"确定\"></i>\n\t\t\t\t<i class=\"js-delete icon icon-delete\" title=\"删除\"></i>\n\t\t\t</span>\n\t\t</li>`);\n\n\t\tlet $status = this.$el.find('.js-status');\n\t\tlet $showStatus = this.$el.find('.js-show');\n\t\tlet $hideStatus = this.$el.find('.js-hide');\n\t\tlet $nameText = this.$el.find('.js-name');\n\t\tlet $nameInput = this.$el.find('.js-input');\n\t\tlet $edit = this.$el.find('.js-edit');\n\t\tlet $submit = this.$el.find('.js-submit');\n\t\tlet $delete = this.$el.find('.js-delete');\n\n\t\tthis.$el.on('click', () => this.emit('click'));\n\n\t\t$status.on('click', (e) => {\n\n\t\t\te.stopPropagation();\n\n\t\t\tif ($showStatus.hasClass('hidden')) {\n\t\t\t\t$showStatus.show();\n\t\t\t\t$hideStatus.hide();\n\t\t\t} else {\n\t\t\t\t$showStatus.hide();\n\t\t\t\t$hideStatus.show();\n\t\t\t}\n\n\t\t\tthis.emit('status');\n\t\t});\n\n\t\t$edit.on('click', () => {\n\t\t\t$edit.hide();\n\t\t\t$submit.show();\n\t\t\t$nameText.hide();\n\t\t\t$nameInput\n\t\t\t\t.show()\n\t\t\t\t.value($nameText.text());\n\t\t})\n\n\t\t$submit.on('click', () => {\n\n\t\t\tlet flag = this.emit('reName');\n\n\t\t\tif (flag !== false) {\n\t\t\t\t$edit.show();\n\t\t\t\t$submit.hide();\n\t\t\t\t$nameText\n\t\t\t\t\t.show()\n\t\t\t\t\t.text($nameInput.value())\n\t\t\t\t\t.attr('title', $nameInput.value());\n\t\t\t\t$nameInput.hide();\n\t\t\t}\n\t\t\t\n\t\t});\n\n\t\t$nameInput.on('blur', () => $submit.click());\n\n\t}\n\n\tgetElement() {\n\t\treturn this.$el;\n\t}\n\n\tgetName() {\n\t\treturn this.name;\n\t}\n\n\tsetName(name) {\n\t\tthis.name = name;\n\n\t\tthis.$el\n\t\t\t.find('.js-name')\n\t\t\t.attr('title', name)\n\t\t\t.text(name);\n\n\t\treturn this;\n\t}\n\n\tsetActive() {\n\t\tthis.$el.addClass('active');\n\t\treturn this;\n\t}\n\n\tisActive() {\n\t\treturn this.$el.hasClass('active');\n\t}\n\n\tremoveActive() {\n\t\tthis.$el.removeClass('active');\n\t\treturn this;\n\t}\n\n\temit(event) {\n\t\tif (typeof this[event + 'Handler'] === 'function') {\n\t\t\treturn this[event + 'Handler']();\n\t\t}\n\t}\n\n\ton(event, handler) {\n\t\tthis[event + 'Handler'] = handler;\n\t\treturn this;\n\t}\n\n}\n\nmodule.exports = GroupItem;","const $ = require('./dom.js');\n\nclass Group {\n\tconstructor(selector) {\n\t\tthis.$el = $(selector);\n\t\tthis.children = [];\n\t}\n\n\tinitItem($item, isNew) {\n\t\tif (isNew !== false) {\n\t\t\t$item.setName('分组' + (this.length() + 1));\n\t\t}\n\n\t\t$item.on('click', () => {\n\t\t\tthis.chooseActive($item);\n\t\t});\n\t}\n\n\tcheckActive() {\n\t\tif (!this.children.some(($temp) => {\n\t\t\treturn $temp.isActive();\n\t\t})) {\n\t\t\tthis.children[0].setActive();\n\t\t};\n\t}\n\n\tchooseActive($item) {\n\t\t$item.setActive();\n\t\tthis.children.forEach(($temp) => {\n\t\t\tif ($temp !== $item) {\n\t\t\t\t$temp.removeActive();\n\t\t\t}\n\t\t});\n\t}\n\n\tappend($item) {\n\t\tthis.initItem($item);\n\t\tthis.$el.append($item.getElement());\n\t\tthis.children.push($item);\n\t\tthis.checkActive();\n\t}\n\n\tremove($item) {\n\t\tif (this.children.length > 1) {\n\t\t\t$item.getElement().remove();\n\t\t\tthis.children.splice(this.children.indexOf(this.$el), 1);\t\n\t\t}\n\t}\n\n\tlength() {\n\t\treturn this.children.length;\n\t}\n}\n\nmodule.exports = Group;","const $ = require('./dom.js');\n\nclass Uploader {\n\n\tconstructor(selector) {\n\n\t\tlet self = this;\n\n\t\tthis.$el = $(selector);\n\n\t\tthis.init();\n\n\t\tthis.$el.on('change', function() {\n\t\t\tlet file = this.files[0];\n\n\t\t\tif (!file) {\n\t\t\t\tthis.value = '';\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet flag = self.emit('choose', file);\n\t\t\tif (flag === false) {\n\t\t\t\tthis.value = '';\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet reader = new FileReader();\n\n\t\t\treader.onload = function(e) {\n\t\t\t\t\tself.emit('success', e.target.result, e);\n\t\t\t};\n\n\t\t\treader.onerror = function(e) {\n\t\t\t\tself.emit('error', e);\n\t\t\t};\n\n\t\t\treader.readAsDataURL(file);\n\n\t\t\tthis.value = '';\n\t\t});\n\t}\n\n\tinit() {\n\t\tthis.successHandler = () => {};\n\t\tthis.errorHandler = () => alert((this.options.name || '文件') + '读取错误');\n\t\tthis.$el.removeAttr('accept');\n\t}\n\n\topen(options) {\n\t\tthis.init();\n\t\tthis.options = options || {};\n\n\t\tif (this.options.accept) {\n\t\t\tthis.$el.attr('accept', options.accept);\n\t\t}\n\n\t\tthis.$el.click();\n\n\t\treturn this;\n\n\t}\n\n\ton(event, handler) {\n\t\tthis[event + 'Handler'] = handler;\n\t\treturn this;\n\t}\n\n\temit(event, ...params) {\n\t\tif (typeof this[event + 'Handler'] === 'function') {\n\t\t\treturn this[event + 'Handler'](...params);\n\t\t}\n\t}\n}\n\nmodule.exports = Uploader;"]}