{"version":3,"sources":["../node_modules/._browser-pack@6.0.4@browser-pack/_prelude.js","../src/customize/customize.js","../src/customize/module/area.js","../src/customize/module/canvas.js","customize.js","../src/customize/module/dom.js","../src/customize/module/group-item.js","../src/customize/module/group-list.js","../src/customize/module/popup.js","../src/customize/module/toast.js","../src/customize/module/uploader.js","../src/customize/module/util.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","$","Uploader","Canvas","GroupList","GroupItem","$uploader","$groupList","$canvas","$index","$uploadImg","on","remove","open","name","accept","data","setImage","addClass","$zoomIn","$zoomOut","$replaceImg","bind","zoomIn","zoomOut","$addGroup","$search","$current","$item","text","getName","append","click","children","forEach","$child","indexOf","value","getElement","show","hide","./module/canvas.js","./module/dom.js","./module/group-item.js","./module/group-list.js","./module/uploader.js","2","Area","_classCallCheck","this","$el","_createClass","key","css","./dom.js","Util","widthUtil","heightUtil","selector","_this","position","x","pageX","offset","left","y","pageY","top","$img","find","$areas","$active","update","startX","startY","$group","scale","clearStyle","width","toFloat","height","toString","src","_this2","attr","init","count","arguments","undefined","./area.js","./util.js","4","DOM","el","document","test","createElement","html","firstChild","els","_typeof","getElements","querySelectorAll","handler","event","isSingle","addEventListener","removeEventListener","setAttribute","getAttribute","removeAttribute","_el$classList","classList","add","apply","_el$classList2","contains","val","style","window","getComputedStyle","cssText","appendChild","parentNode","replaceChild","innerHTML","str","innerText","concat","_toConsumableArray","map","removeClass","offsetLeft","offsetTop","5","popup","_this3","areas","choose","$status","$showStatus","$hideStatus","stopPropagation","hasClass","$nameText","$nameInput","$edit","$submit","content","confirm","$area","push","6","toast","index","$acitve","setActive","emit","_this4","removeActive","some","setName","check","splice","_len","params","Array","_key","./toast.js","7","$body","$popup","$title","$content","$cancel","$confirm","options","title","cancel","8","$toast","$icon","$text","type","9","_this5","file","files","reader","FileReader","onload","target","result","onerror","readAsDataURL","_this6","successHandler","errorHandler","alert","removeAttr","_len2","_key2","10","match","unit","RegExp","$2","$1","num"],"mappings":"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","file":"customize.js","sourcesContent":["(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()","const $ = require('./module/dom.js');\nconst Uploader = require('./module/uploader.js');\nconst Canvas = require('./module/canvas.js');\nconst GroupList = require('./module/group-list.js');\nconst GroupItem = require('./module/group-item.js');\n\n(function() {\n\n\tconst $uploader = new Uploader('#upload-file');\n\tconst $groupList = new GroupList('#group');\n\tconst $canvas = new Canvas('#canvas');\n\n\t// const $main = $('#main');\n\n\t/* 索引页 */\n\tconst $index = $('#index');\n\tconst $uploadImg = $('#upload-img');\n\t// const $uploadOption = $('#upload-option');\n\n\t$index.on('animationend', () => $index.remove());\n\n\t$uploadImg.on('click', () => {\n\t\t$uploader.open({\n\t\t\tname: '图片',\n\t\t\taccept: 'image/*'\n\t\t}).on('success', (data) => {\n\t\t\t$canvas.setImage(data);\n\t\t\t$index.addClass('hide');\n\t\t});\n\t});\n\n\t/* 画布操作 */\n\tconst $zoomIn = $('#zoom-in');\n\tconst $zoomOut = $('#zoom-out');\n\tconst $replaceImg = $('#replace-img');\n\n\t$canvas.bind($groupList);\n\n\t$zoomIn.on('click', () => $canvas.zoomIn());\n\n\t$zoomOut.on('click', () => $canvas.zoomOut());\n\n\t$replaceImg.on('click', () => {\n\t\t$uploader.open({\n\t\t\tname: '图片',\n\t\t\taccept: 'image/*'\n\t\t}).on('success', (data) => {\n\t\t\t$canvas.setImage(data);\n\t\t});\n\t});\n\n\t/* 分组操作 */\n\tconst $addGroup = $('#add-group');\n\tconst $search = $('#search');\n\tconst $current = $('#current');\n\n\t$groupList.bind($canvas);\n\n\t$groupList.on('activeChange', ($item) => {\n\t\t$current.text($item.getName());\n\t});\n\n\t$addGroup.on('click', () => {\n\t\t$groupList.append(new GroupItem());\n\t}).click();\n\n\t$search.on('input', () => {\n\t\t$groupList.children.forEach(($child) => {\n\t\t\tif ($child.getName().indexOf($search.value()) === -1) {\n\t\t\t\t$child.getElement().show();\n\t\t\t} else {\n\t\t\t\t$child.getElement().hide();\n\t\t\t}\n\t\t});\n\t});\n\n})();","const $ = require('./dom.js');\n\nclass Area {\n\tconstructor() {\n\t\tthis.$el = $('<div class=\"area\"></div>');\n\t}\n\n\tupdate(data) {\n\t\tfor (let name in data) {\n\t\t\tthis[name] = data[name];\n\t\t\tthis.$el.css(name, data[name]);\n\t\t}\n\t\treturn this;\n\t}\n\n}\n\nmodule.exports = Area;","const $ = require('./dom.js');\nconst Util = require('./util.js');\nconst Area = require('./area.js');\n\nconst widthUtil = new Util();\nconst heightUtil = new Util();\n\nclass Canvas {\n\n\tconstructor(selector) {\n\t\tthis.$el = $(selector);\n\t\tthis.$img = this.$el.find('.pic');\n\t\tthis.$areas = this.$el.find('.areas');\n\n\t\tfunction position(e) {\n\t\t\treturn {\n\t\t\t\tx: e.pageX - this.$el.offset().left,\n\t\t\t\ty: e.pageY - this.$el.offset().top\n\t\t\t};\n\t\t}\n\n\t\tthis.$el.on('mousedown', (e) => {\n\t\t\tthis.$active = new Area();\n\n\t\t\tthis.$active.update({\n\t\t\t\tstartX: position(e).x,\n\t\t\t\tstartY: position(e).y\n\t\t\t});\n\n\t\t\tthis.$areas.append(this.$active);\n\t\t\tthis.$group.$active.append(this.$active);\n\t\t});\n\n\t\tthis.$el.on('mousemove', (e) => {\n\n\t\t\tif (!this.$active) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t});\n\n\t\tthis.$el.on('mouseup', () => {\n\t\t\tthis.$active = null;\n\t\t});\n\t}\n\n\tbind($group) {\n\t\tthis.$group = $group;\n\t\treturn this;\n\t}\n\n\tinit() {\n\t\tthis.scale = 1;\n\t\tthis.$img.clearStyle();\n\t\tthis.width = widthUtil.toFloat(this.$img.width());\n\t\tthis.height = heightUtil.toFloat(this.$img.height());\n\t\tthis.update();\n\t\treturn this;\n\t}\n\n\tupdate() {\n\t\tthis.$img.width(widthUtil.toString(this.width * this.scale));\n\t\tthis.$img.height(heightUtil.toString(this.height * this.scale));\n\t\treturn this;\n\t}\n\n\tsetImage(src) {\n\t\tthis.$img.attr('src', src);\n\t\tthis.$img.on('load', () => this.init(), true);\n\t\treturn this;\n\t}\n\n\tzoomIn(count = 0.1) {\n\t\tthis.scale += count;\n\t\tthis.update();\n\t\treturn this;\n\t}\n\n\tzoomOut(count = 0.1) {\n\t\tif (this.scale > count * 2) {\n\t\t\tthis.scale -= count;\n\t\t\tthis.update();\n\t\t}\n\t\treturn this;\n\t}\n\n}\n\nmodule.exports = Canvas;","(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()({1:[function(require,module,exports){\nconst $ = require('./module/dom.js');\nconst Uploader = require('./module/uploader.js');\nconst Canvas = require('./module/canvas.js');\nconst GroupList = require('./module/group-list.js');\nconst GroupItem = require('./module/group-item.js');\n\n(function() {\n\n\tconst $uploader = new Uploader('#upload-file');\n\tconst $groupList = new GroupList('#group');\n\tconst $canvas = new Canvas('#canvas');\n\n\t// const $main = $('#main');\n\n\t/* 索引页 */\n\tconst $index = $('#index');\n\tconst $uploadImg = $('#upload-img');\n\t// const $uploadOption = $('#upload-option');\n\n\t$index.on('animationend', () => $index.remove());\n\n\t$uploadImg.on('click', () => {\n\t\t$uploader.open({\n\t\t\tname: '图片',\n\t\t\taccept: 'image/*'\n\t\t}).on('success', (data) => {\n\t\t\t$canvas.setImage(data);\n\t\t\t$index.addClass('hide');\n\t\t});\n\t});\n\n\t/* 画布操作 */\n\tconst $zoomIn = $('#zoom-in');\n\tconst $zoomOut = $('#zoom-out');\n\tconst $replaceImg = $('#replace-img');\n\n\t$canvas.bind($groupList);\n\n\t$zoomIn.on('click', () => $canvas.zoomIn());\n\n\t$zoomOut.on('click', () => $canvas.zoomOut());\n\n\t$replaceImg.on('click', () => {\n\t\t$uploader.open({\n\t\t\tname: '图片',\n\t\t\taccept: 'image/*'\n\t\t}).on('success', (data) => {\n\t\t\t$canvas.setImage(data);\n\t\t});\n\t});\n\n\t/* 分组操作 */\n\tconst $addGroup = $('#add-group');\n\tconst $search = $('#search');\n\tconst $current = $('#current');\n\n\t$groupList.bind($canvas);\n\n\t$groupList.on('activeChange', ($item) => {\n\t\t$current.text($item.getName());\n\t});\n\n\t$addGroup.on('click', () => {\n\t\t$groupList.append(new GroupItem());\n\t}).click();\n\n\t$search.on('input', () => {\n\t\t$groupList.children.forEach(($child) => {\n\t\t\tif ($child.getName().indexOf($search.value()) === -1) {\n\t\t\t\t$child.getElement().show();\n\t\t\t} else {\n\t\t\t\t$child.getElement().hide();\n\t\t\t}\n\t\t});\n\t});\n\n})();\n},{\"./module/canvas.js\":3,\"./module/dom.js\":4,\"./module/group-item.js\":5,\"./module/group-list.js\":6,\"./module/uploader.js\":9}],2:[function(require,module,exports){\nconst $ = require('./dom.js');\n\nclass Area {\n\tconstructor() {\n\t\tthis.$el = $('<div class=\"area\"></div>');\n\t}\n\n\tupdate(data) {\n\t\tfor (let name in data) {\n\t\t\tthis[name] = data[name];\n\t\t\tthis.$el.css(name, data[name]);\n\t\t}\n\t\treturn this;\n\t}\n\n}\n\nmodule.exports = Area;\n},{\"./dom.js\":4}],3:[function(require,module,exports){\nconst $ = require('./dom.js');\nconst Util = require('./util.js');\nconst Area = require('./area.js');\n\nconst widthUtil = new Util();\nconst heightUtil = new Util();\n\nclass Canvas {\n\n\tconstructor(selector) {\n\t\tthis.$el = $(selector);\n\t\tthis.$img = this.$el.find('.pic');\n\t\tthis.$areas = this.$el.find('.areas');\n\n\t\tfunction position(e) {\n\t\t\treturn {\n\t\t\t\tx: e.pageX - this.$el.offset().left,\n\t\t\t\ty: e.pageY - this.$el.offset().top\n\t\t\t};\n\t\t}\n\n\t\tthis.$el.on('mousedown', (e) => {\n\t\t\tthis.$active = new Area();\n\n\t\t\tthis.$active.update({\n\t\t\t\tstartX: position(e).x,\n\t\t\t\tstartY: position(e).y\n\t\t\t});\n\n\t\t\tthis.$areas.append(this.$active);\n\t\t\tthis.$group.$active.append(this.$active);\n\t\t});\n\n\t\tthis.$el.on('mousemove', (e) => {\n\n\t\t\tif (!this.$active) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t});\n\n\t\tthis.$el.on('mouseup', () => {\n\t\t\tthis.$active = null;\n\t\t});\n\t}\n\n\tbind($group) {\n\t\tthis.$group = $group;\n\t\treturn this;\n\t}\n\n\tinit() {\n\t\tthis.scale = 1;\n\t\tthis.$img.clearStyle();\n\t\tthis.width = widthUtil.toFloat(this.$img.width());\n\t\tthis.height = heightUtil.toFloat(this.$img.height());\n\t\tthis.update();\n\t\treturn this;\n\t}\n\n\tupdate() {\n\t\tthis.$img.width(widthUtil.toString(this.width * this.scale));\n\t\tthis.$img.height(heightUtil.toString(this.height * this.scale));\n\t\treturn this;\n\t}\n\n\tsetImage(src) {\n\t\tthis.$img.attr('src', src);\n\t\tthis.$img.on('load', () => this.init(), true);\n\t\treturn this;\n\t}\n\n\tzoomIn(count = 0.1) {\n\t\tthis.scale += count;\n\t\tthis.update();\n\t\treturn this;\n\t}\n\n\tzoomOut(count = 0.1) {\n\t\tif (this.scale > count * 2) {\n\t\t\tthis.scale -= count;\n\t\t\tthis.update();\n\t\t}\n\t\treturn this;\n\t}\n\n}\n\nmodule.exports = Canvas;\n},{\"./area.js\":2,\"./dom.js\":4,\"./util.js\":10}],4:[function(require,module,exports){\nclass DOM {\n\n\tconstructor(selector, el = document) {\n\t\tif (/^<\\w+[\\s\\w\\=\\-\\\"\\;]*>[\\w\\W]*<\\/\\w+>$/.test(selector)) {\n\t\t\tthis.el = document.createElement('div');\n\t\t\tthis.html(selector);\n\t\t\tthis.el = this.el.firstChild;\n\t\t\tthis.els = [this.el];\n\t\t} else if (typeof selector === 'object') {\n\n\t\t\tif (selector instanceof DOM) {\n\t\t\t\tthis.el = selector.getElement();\n\t\t\t\tthis.els = selector.getElements();\n\n\t\t\t} else {\n\t\t\t\tthis.el = selector;\n\t\t\t\tthis.els = [selector];\n\t\t\t}\n\n\t\t} else {\n\t\t\tthis.els = el.querySelectorAll(selector);\n\t\t\tthis.el = this.els[0];\n\t\t}\n\t}\n\n\teach(handler) {\n\t\tthis.els.forEach((el) => {\n\t\t\thandler(el);\n\t\t});\n\t}\n\n\tfind(selector) {\n\t\treturn new DOM(selector, this.el);\n\t}\n\n\ton(event, handler, isSingle) {\n\t\tif (isSingle) {\n\t\t\tthis.el['on' + event] = handler;\n\t\t} else {\n\t\t\tthis.el.addEventListener(event, handler);\n\t\t}\n\t\treturn this;\n\t}\n\n\toff(event, handler) {\n\t\tthis.el.removeEventListener(event, handler);\n\t\treturn this;\n\t}\n\n\tattr(key, value) {\n\t\tif (value !== undefined) {\n\t\t\tthis.el.setAttribute(key, value);\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn this.el.getAttribute(key, value);\n\t\t}\n\t}\n\n\tremoveAttr(key) {\n\t\tthis.el.removeAttribute(key);\n\t\treturn this;\n\t}\n\n\taddClass(...names) {\n\t\tthis.el.classList.add(...names);\n\t\treturn this;\n\t}\n\n\tremoveClass(...names) {\n\t\tthis.el.classList.remove(...names);\n\t\treturn this;\n\t}\n\n\thasClass(name) {\n\t\treturn this.el.classList.contains(name);\n\t}\n\n\twidth(val) {\n\t\treturn this.css('width', val);\n\t}\n\n\theight(val) {\n\t\treturn this.css('height', val);\n\t}\n\n\tcss(name, val) {\n\t\tif (val !== undefined) {\n\t\t\tthis.el.style[name] = val;\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn window.getComputedStyle(this.el)[name];\n\t\t}\n\t}\n\n\tclearStyle() {\n\t\tthis.el.style.cssText = '';\n\t\treturn this;\n\t}\n\n\tgetElement() {\n\t\treturn this.el;\n\t}\n\n\tgetElements() {\n\t\treturn this.els;\n\t}\n\n\tappend(el) {\n\t\tif (el instanceof DOM) {\n\t\t\tel = el.getElement();\n\t\t}\n\t\tthis.el.appendChild(el);\n\t\treturn this;\n\t}\n\n\tremove() {\n\t\tthis.el.remove();\n\t\treturn this;\n\t}\n\n\treplace(el) {\n\t\tif (el instanceof DOM) {\n\t\t\tel = el.getElement();\n\t\t}\n\t\tthis\n\t\t.el\n\t\t.parentNode\n\t\t.replaceChild(el, this.el);\n\t\treturn this;\n\t}\n\n\thtml(html) {\n\t\tif (html !== undefined) {\n\t\t\tthis.el.innerHTML = html;\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn this.el.innerHTML;\n\t\t}\n\t}\n\n\ttext(str) {\n\t\tif (str !== undefined) {\n\t\t\tthis.el.innerText = str;\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn this.el.innerText;\n\t\t}\n\t}\n\n\tvalue(val) {\n\t\tif (val !== undefined) {\n\t\t\tthis.el.value = val;\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn this.el.value;\n\t\t}\n\t}\n\n\tparent() {\n\t\treturn new DOM(this.el.parentNode);\n\t}\n\n\tchild() {\n\t\treturn [...this.el.children].map((el) => {\n\t\t\treturn new DOM(el);\n\t\t});\n\t}\n\n\tshow() {\n\t\tthis.removeClass('hidden');\n\t\treturn this;\n\t}\n\n\thide() {\n\t\tthis.addClass('hidden');\n\t\treturn this;\n\t}\n\n\toffset() {\n\t\treturn {\n\t\t\tleft: this.el.offsetLeft,\n\t\t\ttop: this.el.offsetTop\n\t\t};\n\t}\n\n\tclick() {\n\t\tthis.el.click();\n\t\treturn this;\n\t}\n}\n\nmodule.exports = (selector) => new DOM(selector);\n},{}],5:[function(require,module,exports){\nconst $ = require('./dom.js');\nconst popup = require('./popup.js');\n\nclass GroupItem {\n\tconstructor() {\n\t\tthis.$el = $(`<li class=\"item mark\">\n\t\t\t<span class=\"js-status status\">\n\t\t\t\t<i class=\"js-show icon icon-show\" title=\"隐藏\"></i>\n\t\t\t\t<i class=\"js-hide icon icon-hide hidden\" title=\"显示\"></i>\n\t\t\t</span>\n\t\t\t\n\t\t\t<p class=\"js-name single-line\" title=\"分组名\">分组名</p>\n\t\t\t<input class=\"js-input edit-text hidden\" autocomplete=\"off\"/>\n\n\t\t\t<span class=\"ctrl\">\n\t\t\t\t<i class=\"js-edit icon icon-edit\" title=\"重命名\"></i>\n\t\t\t\t<i class=\"js-submit icon icon-submit hidden\" title=\"确定\"></i>\n\t\t\t\t<i class=\"js-delete icon icon-delete\" title=\"删除\"></i>\n\t\t\t</span>\n\t\t</li>`);\n\n\t\tthis.areas = [];\n\n\t\t// 选中\n\t\tthis.$el.on('click', () => {\n\t\t\tthis.$group.choose(this);\n\t\t});\n\n\t\t// 显示和隐藏\n\t\tlet $status = this.$el.find('.js-status');\n\t\tlet $showStatus = this.$el.find('.js-show');\n\t\tlet $hideStatus = this.$el.find('.js-hide');\n\n\t\t$status.on('click', (e) => {\n\n\t\t\te.stopPropagation();\n\n\t\t\tif ($showStatus.hasClass('hidden')) {\n\t\t\t\t$showStatus.show();\n\t\t\t\t$hideStatus.hide();\n\t\t\t} else {\n\t\t\t\t$showStatus.hide();\n\t\t\t\t$hideStatus.show();\n\t\t\t}\n\n\t\t});\n\n\t\t// 标题编辑和保存\n\t\tlet $nameText = this.$el.find('.js-name');\n\t\tlet $nameInput = this.$el.find('.js-input');\n\t\tlet $edit = this.$el.find('.js-edit');\n\t\tlet $submit = this.$el.find('.js-submit');\n\n\t\t$edit.on('click', (e) => {\n\n\t\t\te.stopPropagation();\n\n\t\t\t$edit.hide();\n\t\t\t$submit.show();\n\t\t\t$nameText.hide();\n\t\t\t$nameInput\n\t\t\t\t.show()\n\t\t\t\t.value($nameText.text());\n\t\t});\n\n\t\t$submit.on('click', (e) => {\n\n\t\t\te.stopPropagation();\n\n\t\t\tlet name = $nameInput.value();\n\n\t\t\t$edit.show();\n\t\t\t$submit.hide();\n\t\t\t$nameInput.hide();\n\t\t\t$nameText\n\t\t\t\t.show()\n\t\t\t\t.text(name)\n\t\t\t\t.attr('title', name);\n\n\t\t\tthis.name = name;\n\n\t\t});\n\n\t\t$nameInput.on('blur', () => $submit.click());\n\n\t\t// 删除\n\t\tlet $delete = this.$el.find('.js-delete');\n\n\t\t$delete.on('click', (e) => {\n\t\t\te.stopPropagation();\n\t\t\tpopup({\n\t\t\t\tcontent: '是否确认删除分组，<br />删除后将不可恢复。',\n\t\t\t\tconfirm: () => {\n\t\t\t\t\tthis.$group.remove(this);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t}\n\n\tbind($group) {\n\t\tthis.$group = $group;\n\t\treturn this;\n\t}\n\n\tgetElement() {\n\t\treturn this.$el;\n\t}\n\n\tgetName() {\n\t\treturn this.name;\n\t}\n\n\tsetName(name) {\n\t\tthis.name = name;\n\n\t\tthis.$el\n\t\t\t.find('.js-name')\n\t\t\t.attr('title', name)\n\t\t\t.text(name);\n\n\t\treturn this;\n\t}\n\n\n\tsetActive() {\n\t\tthis.$el.addClass('active');\n\t\treturn this;\n\t}\n\n\tremoveActive() {\n\t\tthis.$el.removeClass('active');\n\t\treturn this;\n\t}\n\n\tappend($area) {\n\t\tthis.areas.push($area.bind(this));\n\t\treturn this;\n\t}\n\n\tremove($area) {\n\t\t$area.remove();\n\t}\n\n}\n\nmodule.exports = GroupItem;\n},{\"./dom.js\":4,\"./popup.js\":7}],6:[function(require,module,exports){\nconst $ = require('./dom.js');\nconst toast = require('./toast.js');\n\nclass GroupList {\n\tconstructor(selector) {\n\t\tthis.$el = $(selector);\n\t\tthis.children = [];\n\t\tthis.index = 0;\n\t}\n\n\tgetActive() {\n\t\treturn this.$acitve();\n\t}\n\n\tbind($canvas) {\n\t\tthis.$canvas = $canvas;\n\t\treturn this;\n\t}\n\n\tcheck() {\n\t\tif (this.children.indexOf(this.$acitve) === -1) {\n\t\t\tlet $item = this.children[0];\n\t\t\tthis.$acitve = $item.setActive();\n\t\t\tthis.emit('activeChange', $item);\n\t\t}\n\t\treturn this;\n\t}\n\n\tchoose($item) {\n\t\tthis.$acitve = $item.setActive();\n\t\tthis.emit('activeChange', $item);\n\n\t\tthis.children.forEach(($child) => {\n\t\t\tif ($child !== this.$acitve) {\n\t\t\t\t$child.removeActive();\n\t\t\t}\n\t\t});\n\t\treturn this;\n\t}\n\n\tfind(name) {\n\t\tlet $item = null;\n\t\tthis.children.some(($child) => {\n\t\t\tif ($child.getName() === name) {\n\t\t\t\t$item = $child;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\t\treturn $item;\n\t}\n\n\tappend($item) {\n\t\tthis.$el.append($item.getElement());\n\t\tthis.children.push($item.setName(`分组${ ++this.index }`).bind(this));\n\t\tthis.check();\n\t\treturn this;\n\t}\n\n\tremove($item) {\n\t\tif (this.children.length > 1) {\n\t\t\t$item.getElement().remove();\n\t\t\tthis.children.splice(this.children.indexOf($item), 1);\n\t\t\tthis.check();\n\t\t} else {\n\t\t\ttoast('删除失败，至少保留一个分组', 'error');\n\t\t}\n\t\treturn this;\n\t}\n\n\temit(event, ...params) {\n\t\tif (typeof this[event + 'Handler'] === 'function') {\n\t\t\treturn this[event + 'Handler'](...params);\n\t\t}\n\t}\n\n\ton(event, handler) {\n\t\tthis[event + 'Handler'] = handler;\n\t\treturn this;\n\t}\n}\n\nmodule.exports = GroupList;\n},{\"./dom.js\":4,\"./toast.js\":8}],7:[function(require,module,exports){\nconst $ = require('./dom.js');\n\nlet $body = $('body');\n\nlet $popup = $(`<div class=\"popup\">\n\t<div class=\"box\">\n\t\t<div class=\"js-title title\"></div>\n\t\t<div class=\"js-content content\"></div>\n\t\t<div class=\"btns\">\n\t\t\t<button class=\"js-cancel cancel\">取消</button>\n\t\t\t<button class=\"js-confirm confirm ml\">确定</button>\n\t\t</div>\n\t</div>\n</div>`);\n\nlet $title = $popup.find('.js-title');\nlet $content = $popup.find('.js-content');\nlet $cancel = $popup.find('.js-cancel');\nlet $confirm = $popup.find('.js-confirm');\n\n$popup.on('animationend', () => {\n\tif ($popup.hasClass('fade-out')) {\n\t\t$popup.removeClass('fade-out');\n\t\t$popup.remove();\n\t}\n\n\tif ($popup.hasClass('fade-in')) {\n\t\t$popup.removeClass('fade-in');\n\t}\n});\n\nmodule.exports = (options = {}) => {\n\n\tif (typeof options === 'string') {\n\t\toptions = {\n\t\t\tcontent: options\n\t\t};\n\t}\n\n\t$title.text(options.title || '提示');\n\n\t$content.html(options.content || '');\n\n\t$cancel.on('click', () => {\n\t\tif (typeof options.cancel === 'function') {\n\t\t\tlet flag = options.cancel();\n\t\t\tif (flag === 'false') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t$popup.addClass('fade-out');\n\t}, true);\n\n\t$confirm.on('click', () => {\n\t\tif (typeof options.confirm === 'function') {\n\t\t\tlet flag = options.confirm();\n\t\t\tif (flag === 'false') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t$popup.addClass('fade-out');\n\t}, true);\n\n\t$body.append($popup.addClass('fade-in'));\n};\n},{\"./dom.js\":4}],8:[function(require,module,exports){\nconst $ = require('./dom.js');\n\nlet $body = $('body');\n\nlet $toast = $(`<div class=\"toast\">\n\t<i class=\"js-icon icon\"></i>\n\t<span class=\"js-text\"></span>\n</div>`);\n\nlet $icon = $toast.find('.js-icon');\nlet $text = $toast.find('.js-text');\n\n$toast.on('animationend', () => {\n\t$toast.remove();\n});\n\nmodule.exports = (str, type = 'prompt') => {\n\t$toast\n\t\t.removeClass('success')\n\t\t.removeClass('error')\n\t\t.removeClass('prompt')\n\t\t.addClass(type);\n\n\t$icon\n\t\t.removeClass('icon-success')\n\t\t.removeClass('icon-error')\n\t\t.removeClass('icon-prompt')\n\t\t.addClass(`icon-${ type }`);\n\n\t$text.text(str);\n\n\t$body.append($toast);\n};\n},{\"./dom.js\":4}],9:[function(require,module,exports){\nconst $ = require('./dom.js');\n\nclass Uploader {\n\n\tconstructor(selector) {\n\n\t\tthis.$el = $(selector);\n\n\t\tthis.init();\n\n\t\tthis.$el.on('change', () => {\n\t\t\tlet file = this.$el.getElement().files[0];\n\n\t\t\tif (!file) {\n\t\t\t\tthis.$el.value('');\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet flag = this.emit('choose', file);\n\t\t\tif (flag === false) {\n\t\t\t\tthis.$el.value('');\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet reader = new FileReader();\n\n\t\t\treader.onload = (e) => {\n\t\t\t\tthis.emit('success', e.target.result, e);\n\t\t\t};\n\n\t\t\treader.onerror = function(e) {\n\t\t\t\tthis.emit('error', e);\n\t\t\t};\n\n\t\t\treader.readAsDataURL(file);\n\n\t\t\tthis.$el.value('');\n\t\t});\n\t}\n\n\tinit() {\n\t\tthis.successHandler = () => {};\n\t\tthis.errorHandler = () => alert((this.options.name || '文件') + '读取错误');\n\t\tthis.$el.removeAttr('accept');\n\t}\n\n\topen(options) {\n\t\tthis.init();\n\t\tthis.options = options || {};\n\n\t\tif (this.options.accept) {\n\t\t\tthis.$el.attr('accept', options.accept);\n\t\t}\n\n\t\tthis.$el.click();\n\n\t\treturn this;\n\t}\n\n\ton(event, handler) {\n\t\tthis[event + 'Handler'] = handler;\n\t\treturn this;\n\t}\n\n\temit(event, ...params) {\n\t\tif (typeof this[event + 'Handler'] === 'function') {\n\t\t\treturn this[event + 'Handler'](...params);\n\t\t}\n\t}\n}\n\nmodule.exports = Uploader;\n},{\"./dom.js\":4}],10:[function(require,module,exports){\nclass Util {\n\ttoFloat(str) {\n\t\tstr.match(/^(\\d+)([a-zA-Z]*)$/);\n\t\tthis.unit = RegExp.$2;\n\t\treturn RegExp.$1;\n\t}\n\n\ttoString(num) {\n\t\treturn num + this.unit;\n\t}\n}\n\nmodule.exports = Util;\n},{}]},{},[1])\n\n","class DOM {\n\n\tconstructor(selector, el = document) {\n\t\tif (/^<\\w+[\\s\\w\\=\\-\\\"\\;]*>[\\w\\W]*<\\/\\w+>$/.test(selector)) {\n\t\t\tthis.el = document.createElement('div');\n\t\t\tthis.html(selector);\n\t\t\tthis.el = this.el.firstChild;\n\t\t\tthis.els = [this.el];\n\t\t} else if (typeof selector === 'object') {\n\n\t\t\tif (selector instanceof DOM) {\n\t\t\t\tthis.el = selector.getElement();\n\t\t\t\tthis.els = selector.getElements();\n\n\t\t\t} else {\n\t\t\t\tthis.el = selector;\n\t\t\t\tthis.els = [selector];\n\t\t\t}\n\n\t\t} else {\n\t\t\tthis.els = el.querySelectorAll(selector);\n\t\t\tthis.el = this.els[0];\n\t\t}\n\t}\n\n\teach(handler) {\n\t\tthis.els.forEach((el) => {\n\t\t\thandler(el);\n\t\t});\n\t}\n\n\tfind(selector) {\n\t\treturn new DOM(selector, this.el);\n\t}\n\n\ton(event, handler, isSingle) {\n\t\tif (isSingle) {\n\t\t\tthis.el['on' + event] = handler;\n\t\t} else {\n\t\t\tthis.el.addEventListener(event, handler);\n\t\t}\n\t\treturn this;\n\t}\n\n\toff(event, handler) {\n\t\tthis.el.removeEventListener(event, handler);\n\t\treturn this;\n\t}\n\n\tattr(key, value) {\n\t\tif (value !== undefined) {\n\t\t\tthis.el.setAttribute(key, value);\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn this.el.getAttribute(key, value);\n\t\t}\n\t}\n\n\tremoveAttr(key) {\n\t\tthis.el.removeAttribute(key);\n\t\treturn this;\n\t}\n\n\taddClass(...names) {\n\t\tthis.el.classList.add(...names);\n\t\treturn this;\n\t}\n\n\tremoveClass(...names) {\n\t\tthis.el.classList.remove(...names);\n\t\treturn this;\n\t}\n\n\thasClass(name) {\n\t\treturn this.el.classList.contains(name);\n\t}\n\n\twidth(val) {\n\t\treturn this.css('width', val);\n\t}\n\n\theight(val) {\n\t\treturn this.css('height', val);\n\t}\n\n\tcss(name, val) {\n\t\tif (val !== undefined) {\n\t\t\tthis.el.style[name] = val;\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn window.getComputedStyle(this.el)[name];\n\t\t}\n\t}\n\n\tclearStyle() {\n\t\tthis.el.style.cssText = '';\n\t\treturn this;\n\t}\n\n\tgetElement() {\n\t\treturn this.el;\n\t}\n\n\tgetElements() {\n\t\treturn this.els;\n\t}\n\n\tappend(el) {\n\t\tif (el instanceof DOM) {\n\t\t\tel = el.getElement();\n\t\t}\n\t\tthis.el.appendChild(el);\n\t\treturn this;\n\t}\n\n\tremove() {\n\t\tthis.el.remove();\n\t\treturn this;\n\t}\n\n\treplace(el) {\n\t\tif (el instanceof DOM) {\n\t\t\tel = el.getElement();\n\t\t}\n\t\tthis\n\t\t.el\n\t\t.parentNode\n\t\t.replaceChild(el, this.el);\n\t\treturn this;\n\t}\n\n\thtml(html) {\n\t\tif (html !== undefined) {\n\t\t\tthis.el.innerHTML = html;\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn this.el.innerHTML;\n\t\t}\n\t}\n\n\ttext(str) {\n\t\tif (str !== undefined) {\n\t\t\tthis.el.innerText = str;\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn this.el.innerText;\n\t\t}\n\t}\n\n\tvalue(val) {\n\t\tif (val !== undefined) {\n\t\t\tthis.el.value = val;\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn this.el.value;\n\t\t}\n\t}\n\n\tparent() {\n\t\treturn new DOM(this.el.parentNode);\n\t}\n\n\tchild() {\n\t\treturn [...this.el.children].map((el) => {\n\t\t\treturn new DOM(el);\n\t\t});\n\t}\n\n\tshow() {\n\t\tthis.removeClass('hidden');\n\t\treturn this;\n\t}\n\n\thide() {\n\t\tthis.addClass('hidden');\n\t\treturn this;\n\t}\n\n\toffset() {\n\t\treturn {\n\t\t\tleft: this.el.offsetLeft,\n\t\t\ttop: this.el.offsetTop\n\t\t};\n\t}\n\n\tclick() {\n\t\tthis.el.click();\n\t\treturn this;\n\t}\n}\n\nmodule.exports = (selector) => new DOM(selector);","const $ = require('./dom.js');\nconst popup = require('./popup.js');\n\nclass GroupItem {\n\tconstructor() {\n\t\tthis.$el = $(`<li class=\"item mark\">\n\t\t\t<span class=\"js-status status\">\n\t\t\t\t<i class=\"js-show icon icon-show\" title=\"隐藏\"></i>\n\t\t\t\t<i class=\"js-hide icon icon-hide hidden\" title=\"显示\"></i>\n\t\t\t</span>\n\t\t\t\n\t\t\t<p class=\"js-name single-line\" title=\"分组名\">分组名</p>\n\t\t\t<input class=\"js-input edit-text hidden\" autocomplete=\"off\"/>\n\n\t\t\t<span class=\"ctrl\">\n\t\t\t\t<i class=\"js-edit icon icon-edit\" title=\"重命名\"></i>\n\t\t\t\t<i class=\"js-submit icon icon-submit hidden\" title=\"确定\"></i>\n\t\t\t\t<i class=\"js-delete icon icon-delete\" title=\"删除\"></i>\n\t\t\t</span>\n\t\t</li>`);\n\n\t\tthis.areas = [];\n\n\t\t// 选中\n\t\tthis.$el.on('click', () => {\n\t\t\tthis.$group.choose(this);\n\t\t});\n\n\t\t// 显示和隐藏\n\t\tlet $status = this.$el.find('.js-status');\n\t\tlet $showStatus = this.$el.find('.js-show');\n\t\tlet $hideStatus = this.$el.find('.js-hide');\n\n\t\t$status.on('click', (e) => {\n\n\t\t\te.stopPropagation();\n\n\t\t\tif ($showStatus.hasClass('hidden')) {\n\t\t\t\t$showStatus.show();\n\t\t\t\t$hideStatus.hide();\n\t\t\t} else {\n\t\t\t\t$showStatus.hide();\n\t\t\t\t$hideStatus.show();\n\t\t\t}\n\n\t\t});\n\n\t\t// 标题编辑和保存\n\t\tlet $nameText = this.$el.find('.js-name');\n\t\tlet $nameInput = this.$el.find('.js-input');\n\t\tlet $edit = this.$el.find('.js-edit');\n\t\tlet $submit = this.$el.find('.js-submit');\n\n\t\t$edit.on('click', (e) => {\n\n\t\t\te.stopPropagation();\n\n\t\t\t$edit.hide();\n\t\t\t$submit.show();\n\t\t\t$nameText.hide();\n\t\t\t$nameInput\n\t\t\t\t.show()\n\t\t\t\t.value($nameText.text());\n\t\t});\n\n\t\t$submit.on('click', (e) => {\n\n\t\t\te.stopPropagation();\n\n\t\t\tlet name = $nameInput.value();\n\n\t\t\t$edit.show();\n\t\t\t$submit.hide();\n\t\t\t$nameInput.hide();\n\t\t\t$nameText\n\t\t\t\t.show()\n\t\t\t\t.text(name)\n\t\t\t\t.attr('title', name);\n\n\t\t\tthis.name = name;\n\n\t\t});\n\n\t\t$nameInput.on('blur', () => $submit.click());\n\n\t\t// 删除\n\t\tlet $delete = this.$el.find('.js-delete');\n\n\t\t$delete.on('click', (e) => {\n\t\t\te.stopPropagation();\n\t\t\tpopup({\n\t\t\t\tcontent: '是否确认删除分组，<br />删除后将不可恢复。',\n\t\t\t\tconfirm: () => {\n\t\t\t\t\tthis.$group.remove(this);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t}\n\n\tbind($group) {\n\t\tthis.$group = $group;\n\t\treturn this;\n\t}\n\n\tgetElement() {\n\t\treturn this.$el;\n\t}\n\n\tgetName() {\n\t\treturn this.name;\n\t}\n\n\tsetName(name) {\n\t\tthis.name = name;\n\n\t\tthis.$el\n\t\t\t.find('.js-name')\n\t\t\t.attr('title', name)\n\t\t\t.text(name);\n\n\t\treturn this;\n\t}\n\n\n\tsetActive() {\n\t\tthis.$el.addClass('active');\n\t\treturn this;\n\t}\n\n\tremoveActive() {\n\t\tthis.$el.removeClass('active');\n\t\treturn this;\n\t}\n\n\tappend($area) {\n\t\tthis.areas.push($area.bind(this));\n\t\treturn this;\n\t}\n\n\tremove($area) {\n\t\t$area.remove();\n\t}\n\n}\n\nmodule.exports = GroupItem;","const $ = require('./dom.js');\nconst toast = require('./toast.js');\n\nclass GroupList {\n\tconstructor(selector) {\n\t\tthis.$el = $(selector);\n\t\tthis.children = [];\n\t\tthis.index = 0;\n\t}\n\n\tgetActive() {\n\t\treturn this.$acitve();\n\t}\n\n\tbind($canvas) {\n\t\tthis.$canvas = $canvas;\n\t\treturn this;\n\t}\n\n\tcheck() {\n\t\tif (this.children.indexOf(this.$acitve) === -1) {\n\t\t\tlet $item = this.children[0];\n\t\t\tthis.$acitve = $item.setActive();\n\t\t\tthis.emit('activeChange', $item);\n\t\t}\n\t\treturn this;\n\t}\n\n\tchoose($item) {\n\t\tthis.$acitve = $item.setActive();\n\t\tthis.emit('activeChange', $item);\n\n\t\tthis.children.forEach(($child) => {\n\t\t\tif ($child !== this.$acitve) {\n\t\t\t\t$child.removeActive();\n\t\t\t}\n\t\t});\n\t\treturn this;\n\t}\n\n\tfind(name) {\n\t\tlet $item = null;\n\t\tthis.children.some(($child) => {\n\t\t\tif ($child.getName() === name) {\n\t\t\t\t$item = $child;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\t\treturn $item;\n\t}\n\n\tappend($item) {\n\t\tthis.$el.append($item.getElement());\n\t\tthis.children.push($item.setName(`分组${ ++this.index }`).bind(this));\n\t\tthis.check();\n\t\treturn this;\n\t}\n\n\tremove($item) {\n\t\tif (this.children.length > 1) {\n\t\t\t$item.getElement().remove();\n\t\t\tthis.children.splice(this.children.indexOf($item), 1);\n\t\t\tthis.check();\n\t\t} else {\n\t\t\ttoast('删除失败，至少保留一个分组', 'error');\n\t\t}\n\t\treturn this;\n\t}\n\n\temit(event, ...params) {\n\t\tif (typeof this[event + 'Handler'] === 'function') {\n\t\t\treturn this[event + 'Handler'](...params);\n\t\t}\n\t}\n\n\ton(event, handler) {\n\t\tthis[event + 'Handler'] = handler;\n\t\treturn this;\n\t}\n}\n\nmodule.exports = GroupList;","const $ = require('./dom.js');\n\nlet $body = $('body');\n\nlet $popup = $(`<div class=\"popup\">\n\t<div class=\"box\">\n\t\t<div class=\"js-title title\"></div>\n\t\t<div class=\"js-content content\"></div>\n\t\t<div class=\"btns\">\n\t\t\t<button class=\"js-cancel cancel\">取消</button>\n\t\t\t<button class=\"js-confirm confirm ml\">确定</button>\n\t\t</div>\n\t</div>\n</div>`);\n\nlet $title = $popup.find('.js-title');\nlet $content = $popup.find('.js-content');\nlet $cancel = $popup.find('.js-cancel');\nlet $confirm = $popup.find('.js-confirm');\n\n$popup.on('animationend', () => {\n\tif ($popup.hasClass('fade-out')) {\n\t\t$popup.removeClass('fade-out');\n\t\t$popup.remove();\n\t}\n\n\tif ($popup.hasClass('fade-in')) {\n\t\t$popup.removeClass('fade-in');\n\t}\n});\n\nmodule.exports = (options = {}) => {\n\n\tif (typeof options === 'string') {\n\t\toptions = {\n\t\t\tcontent: options\n\t\t};\n\t}\n\n\t$title.text(options.title || '提示');\n\n\t$content.html(options.content || '');\n\n\t$cancel.on('click', () => {\n\t\tif (typeof options.cancel === 'function') {\n\t\t\tlet flag = options.cancel();\n\t\t\tif (flag === 'false') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t$popup.addClass('fade-out');\n\t}, true);\n\n\t$confirm.on('click', () => {\n\t\tif (typeof options.confirm === 'function') {\n\t\t\tlet flag = options.confirm();\n\t\t\tif (flag === 'false') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t$popup.addClass('fade-out');\n\t}, true);\n\n\t$body.append($popup.addClass('fade-in'));\n};","const $ = require('./dom.js');\n\nlet $body = $('body');\n\nlet $toast = $(`<div class=\"toast\">\n\t<i class=\"js-icon icon\"></i>\n\t<span class=\"js-text\"></span>\n</div>`);\n\nlet $icon = $toast.find('.js-icon');\nlet $text = $toast.find('.js-text');\n\n$toast.on('animationend', () => {\n\t$toast.remove();\n});\n\nmodule.exports = (str, type = 'prompt') => {\n\t$toast\n\t\t.removeClass('success')\n\t\t.removeClass('error')\n\t\t.removeClass('prompt')\n\t\t.addClass(type);\n\n\t$icon\n\t\t.removeClass('icon-success')\n\t\t.removeClass('icon-error')\n\t\t.removeClass('icon-prompt')\n\t\t.addClass(`icon-${ type }`);\n\n\t$text.text(str);\n\n\t$body.append($toast);\n};","const $ = require('./dom.js');\n\nclass Uploader {\n\n\tconstructor(selector) {\n\n\t\tthis.$el = $(selector);\n\n\t\tthis.init();\n\n\t\tthis.$el.on('change', () => {\n\t\t\tlet file = this.$el.getElement().files[0];\n\n\t\t\tif (!file) {\n\t\t\t\tthis.$el.value('');\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet flag = this.emit('choose', file);\n\t\t\tif (flag === false) {\n\t\t\t\tthis.$el.value('');\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet reader = new FileReader();\n\n\t\t\treader.onload = (e) => {\n\t\t\t\tthis.emit('success', e.target.result, e);\n\t\t\t};\n\n\t\t\treader.onerror = function(e) {\n\t\t\t\tthis.emit('error', e);\n\t\t\t};\n\n\t\t\treader.readAsDataURL(file);\n\n\t\t\tthis.$el.value('');\n\t\t});\n\t}\n\n\tinit() {\n\t\tthis.successHandler = () => {};\n\t\tthis.errorHandler = () => alert((this.options.name || '文件') + '读取错误');\n\t\tthis.$el.removeAttr('accept');\n\t}\n\n\topen(options) {\n\t\tthis.init();\n\t\tthis.options = options || {};\n\n\t\tif (this.options.accept) {\n\t\t\tthis.$el.attr('accept', options.accept);\n\t\t}\n\n\t\tthis.$el.click();\n\n\t\treturn this;\n\t}\n\n\ton(event, handler) {\n\t\tthis[event + 'Handler'] = handler;\n\t\treturn this;\n\t}\n\n\temit(event, ...params) {\n\t\tif (typeof this[event + 'Handler'] === 'function') {\n\t\t\treturn this[event + 'Handler'](...params);\n\t\t}\n\t}\n}\n\nmodule.exports = Uploader;","class Util {\n\ttoFloat(str) {\n\t\tstr.match(/^(\\d+)([a-zA-Z]*)$/);\n\t\tthis.unit = RegExp.$2;\n\t\treturn RegExp.$1;\n\t}\n\n\ttoString(num) {\n\t\treturn num + this.unit;\n\t}\n}\n\nmodule.exports = Util;"]}