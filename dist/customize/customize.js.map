{"version":3,"sources":["../node_modules/._browser-pack@6.0.4@browser-pack/_prelude.js","../src/customize/customize.js","../src/customize/module/area.js","../src/customize/module/canvas.js","customize.js","../src/customize/module/dom.js","../src/customize/module/group-item.js","../src/customize/module/group.js","../src/customize/module/popup.js","../src/customize/module/toast.js","../src/customize/module/uploader.js","../src/customize/module/util.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","$uploader","$canvas","$group","$index","$uploadImg","$zoomIn","$zoomOut","$replaceImg","$addGroup","$search","$current","$","Uploader","Canvas","Group","GroupItem","window","document","setGroup","setCanvas","on","$groupItem","text","getName","remove","open","name","accept","data","setImage","addClass","zoomIn","zoomOut","append","click","getChildren","forEach","$child","indexOf","value","getElement","removeClass","./module/canvas.js","./module/dom.js","./module/group-item.js","./module/group.js","./module/uploader.js","2","Area","_classCallCheck","this","$el","_createClass","key","css","Util","widthUtil","heightUtil","selector","_this","$img","find","$areas","console","log","scale","clearStyle","width","toFloat","height","updateImage","toString","src","_this2","attr","init","count","arguments","undefined","./dom.js","./util.js","4","DOM","el","test","createElement","html","firstChild","els","_typeof","getElements","querySelectorAll","handler","event","isSingle","addEventListener","removeEventListener","setAttribute","getAttribute","removeAttribute","_el$classList","classList","add","apply","_el$classList2","contains","val","style","getComputedStyle","cssText","appendChild","parentNode","replaceChild","innerHTML","str","innerText","concat","_toConsumableArray","children","map","5","popup","_this3","$status","$showStatus","$hideStatus","$nameText","$nameInput","$edit","$submit","$delete","emit","stopPropagation","hasClass","show","hide","content","confirm","_len","params","Array","_key","6","toast","index","$item","_this4","setName","choose","$acitve","setActive","_this5","removeActive","initItem","push","check","splice","_len2","_key2","./toast.js","7","$body","$popup","$title","$content","$cancel","$confirm","options","title","cancel","8","$toast","$icon","$text","type","9","_this6","file","files","reader","FileReader","onload","target","result","onerror","readAsDataURL","_this7","successHandler","errorHandler","alert","removeAttr","_len3","_key3","10","match","unit","RegExp","$2","$1","num"],"mappings":"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","file":"customize.js","sourcesContent":["(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()","const $ = require('./module/dom.js');\nconst Uploader = require('./module/uploader.js');\nconst Canvas = require('./module/canvas.js');\nconst Group = require('./module/group.js');\nconst GroupItem = require('./module/group-item.js');\nconst Area = require('./module/area.js');\n\n;(function(win, doc) {\n\t\n\tconst $uploader = new Uploader('#upload-file');\n\tconst $canvas = new Canvas('#canvas');\n\tconst $group = new Group('#group')\n\n\tconst $main = $('#main');\n\tconst $index = $('#index');\n\tconst $uploadImg = $('#upload-img');\n\tconst $uploadOption = $('#upload-option');\n\tconst $zoomIn = $('#zoom-in');\n\tconst $zoomOut = $('#zoom-out');\n\tconst $replaceImg = $('#replace-img');\n\tconst $addGroup = $('#add-group');\n\tconst $search = $('#search');\n\tconst $current = $('#current');\n\n\t$canvas.setGroup($group);\n\t$group.setCanvas($canvas);\n\n\t$group.on('activeChange', ($groupItem) => {\n\t\t$current.text($groupItem.getName());\n\t});\n\n\t$index.on('animationend', () => $index.remove());\n\n\t$uploadImg.on('click', () => {\n\t\t$uploader.open({\n\t\t\tname: '图片',\n\t\t\taccept: 'image/*'\n\t\t}).on('success', (data) => {\n\t\t\t$canvas.setImage(data);\n\t\t\t$index.addClass('hide');\n\t\t});\n\t});\n\n\t$zoomIn.on('click', () => $canvas.zoomIn());\n\n\t$zoomOut.on('click', () => $canvas.zoomOut());\n\n\t$replaceImg.on('click', () => {\n\t\t$uploader.open({\n\t\t\tname: '图片',\n\t\t\taccept: 'image/*'\n\t\t}).on('success', (data) => {\n\t\t\t$canvas.setImage(data);\n\t\t});\n\t});\n\n\t$addGroup.on('click', () => {\n\t\t$group.append(new GroupItem());\n\t}).click();\n\n\t$search.on('input', (e) => {\n\t\t$group.getChildren().forEach(($child) => {\n\t\t\tif ($child.getName().indexOf($search.value()) === -1) {\n\t\t\t\t$child.getElement().addClass('hidden');\n\t\t\t} else {\n\t\t\t\t$child.getElement().removeClass('hidden');\n\t\t\t}\n\t\t});\n\t});\n\n})(window, document);","const $ = require('./dom.js');\n\nclass Area {\n\tconstructor() {\n\t\tthis.$el = $(`<div class=\"area\"></div>`);\n\t}\n\n\tupdate(data) {\n\t\tfor (let name in data) {\n\t\t\tthis[name] = data[name];\n\t\t\tthis.$el.css(name, data[name]);\n\t\t}\n\t}\n\n}\n\nmodule.exports = Area;","const $ = require('./dom.js');\nconst Util = require('./util.js');\nconst widthUtil = new Util();\nconst heightUtil = new Util();\n\nclass Canvas {\n\n\tconstructor(selector) {\n\t\tthis.$el = $(selector);\n\t\tthis.$img = this.$el.find('.pic');\n\t\tthis.$areas = this.$el.find('.areas');\n\n\t\tthis.$el.on('mousedown', () => {\n\t\t\tconsole.log(this.$el);\n\t\t});\n\t}\n\n\tsetGroup($group) {\n\t\tthis.$group = $group;\n\t}\n\n\tinit() {\n\t\tthis.scale = 1;\n\t\tthis.$img.clearStyle();\n\t\tthis.width = widthUtil.toFloat(this.$img.width());\n\t\tthis.height = heightUtil.toFloat(this.$img.height());\n\t\tthis.updateImage();\n\t}\n\n\tupdateImage() {\n\t\tthis.$img.width(widthUtil.toString(this.width * this.scale));\n\t\tthis.$img.height(heightUtil.toString(this.height * this.scale));\n\t}\n\n\tsetImage(src) {\n\t\tthis.$img.attr('src', src);\n\t\tthis.$img.on('load', () => this.init(), true);\n\t}\n\n\tzoomIn(count = 0.1) {\n\t\tthis.scale += count;\n\t\tthis.updateImage();\n\t}\n\n\tzoomOut(count = 0.1) {\n\t\tif (this.scale > count * 2) {\n\t\t\tthis.scale -= count;\n\t\t\tthis.updateImage();\n\t\t}\n\t}\n\n}\n\nmodule.exports = Canvas;","(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()({1:[function(require,module,exports){\nconst $ = require('./module/dom.js');\nconst Uploader = require('./module/uploader.js');\nconst Canvas = require('./module/canvas.js');\nconst Group = require('./module/group.js');\nconst GroupItem = require('./module/group-item.js');\nconst Area = require('./module/area.js');\n\n;(function(win, doc) {\n\t\n\tconst $uploader = new Uploader('#upload-file');\n\tconst $canvas = new Canvas('#canvas');\n\tconst $group = new Group('#group')\n\n\tconst $main = $('#main');\n\tconst $index = $('#index');\n\tconst $uploadImg = $('#upload-img');\n\tconst $uploadOption = $('#upload-option');\n\tconst $zoomIn = $('#zoom-in');\n\tconst $zoomOut = $('#zoom-out');\n\tconst $replaceImg = $('#replace-img');\n\tconst $addGroup = $('#add-group');\n\tconst $search = $('#search');\n\tconst $current = $('#current');\n\n\t$canvas.setGroup($group);\n\t$group.setCanvas($canvas);\n\n\t$group.on('activeChange', ($groupItem) => {\n\t\t$current.text($groupItem.getName());\n\t});\n\n\t$index.on('animationend', () => $index.remove());\n\n\t$uploadImg.on('click', () => {\n\t\t$uploader.open({\n\t\t\tname: '图片',\n\t\t\taccept: 'image/*'\n\t\t}).on('success', (data) => {\n\t\t\t$canvas.setImage(data);\n\t\t\t$index.addClass('hide');\n\t\t});\n\t});\n\n\t$zoomIn.on('click', () => $canvas.zoomIn());\n\n\t$zoomOut.on('click', () => $canvas.zoomOut());\n\n\t$replaceImg.on('click', () => {\n\t\t$uploader.open({\n\t\t\tname: '图片',\n\t\t\taccept: 'image/*'\n\t\t}).on('success', (data) => {\n\t\t\t$canvas.setImage(data);\n\t\t});\n\t});\n\n\t$addGroup.on('click', () => {\n\t\t$group.append(new GroupItem());\n\t}).click();\n\n\t$search.on('input', (e) => {\n\t\t$group.getChildren().forEach(($child) => {\n\t\t\tif ($child.getName().indexOf($search.value()) === -1) {\n\t\t\t\t$child.getElement().addClass('hidden');\n\t\t\t} else {\n\t\t\t\t$child.getElement().removeClass('hidden');\n\t\t\t}\n\t\t});\n\t});\n\n})(window, document);\n},{\"./module/area.js\":2,\"./module/canvas.js\":3,\"./module/dom.js\":4,\"./module/group-item.js\":5,\"./module/group.js\":6,\"./module/uploader.js\":9}],2:[function(require,module,exports){\nconst $ = require('./dom.js');\n\nclass Area {\n\tconstructor() {\n\t\tthis.$el = $(`<div class=\"area\"></div>`);\n\t}\n\n\tupdate(data) {\n\t\tfor (let name in data) {\n\t\t\tthis[name] = data[name];\n\t\t\tthis.$el.css(name, data[name]);\n\t\t}\n\t}\n\n}\n\nmodule.exports = Area;\n},{\"./dom.js\":4}],3:[function(require,module,exports){\nconst $ = require('./dom.js');\nconst Util = require('./util.js');\nconst widthUtil = new Util();\nconst heightUtil = new Util();\n\nclass Canvas {\n\n\tconstructor(selector) {\n\t\tthis.$el = $(selector);\n\t\tthis.$img = this.$el.find('.pic');\n\t\tthis.$areas = this.$el.find('.areas');\n\n\t\tthis.$el.on('mousedown', () => {\n\t\t\tconsole.log(this.$el);\n\t\t});\n\t}\n\n\tsetGroup($group) {\n\t\tthis.$group = $group;\n\t}\n\n\tinit() {\n\t\tthis.scale = 1;\n\t\tthis.$img.clearStyle();\n\t\tthis.width = widthUtil.toFloat(this.$img.width());\n\t\tthis.height = heightUtil.toFloat(this.$img.height());\n\t\tthis.updateImage();\n\t}\n\n\tupdateImage() {\n\t\tthis.$img.width(widthUtil.toString(this.width * this.scale));\n\t\tthis.$img.height(heightUtil.toString(this.height * this.scale));\n\t}\n\n\tsetImage(src) {\n\t\tthis.$img.attr('src', src);\n\t\tthis.$img.on('load', () => this.init(), true);\n\t}\n\n\tzoomIn(count = 0.1) {\n\t\tthis.scale += count;\n\t\tthis.updateImage();\n\t}\n\n\tzoomOut(count = 0.1) {\n\t\tif (this.scale > count * 2) {\n\t\t\tthis.scale -= count;\n\t\t\tthis.updateImage();\n\t\t}\n\t}\n\n}\n\nmodule.exports = Canvas;\n},{\"./dom.js\":4,\"./util.js\":10}],4:[function(require,module,exports){\nclass DOM {\n\n\tconstructor(selector, el = document) {\n\t\tif (/^<\\w+[\\s\\w\\=\\-\\\"\\;]*>[\\w\\W]*<\\/\\w+>$/.test(selector)) {\n\t\t\tthis.el = document.createElement('div');\n\t\t\tthis.html(selector);\n\t\t\tthis.el = this.el.firstChild;\n\t\t\tthis.els = [this.el];\n\t\t} else if (typeof selector === 'object') {\n\n\t\t\tif (selector instanceof DOM) {\n\t\t\t\tthis.el = selector.getElement();\n\t\t\t\tthis.els = selector.getElements();\n\n\t\t\t} else {\n\t\t\t\tthis.el = selector;\n\t\t\t\tthis.els = [selector];\t\n\t\t\t}\n\t\t\t\n\t\t} else {\n\t\t\tthis.els = el.querySelectorAll(selector);\n\t\t\tthis.el = this.els[0];\n\t\t}\n\t}\n\n\teach(handler) {\n\t\tthis.els.forEach((el) => {\n\t\t\thandler(el);\n\t\t});\n\t}\n\n\tfind(selector) {\n\t\treturn new DOM(selector, this.el);\n\t}\n\n\ton(event, handler, isSingle) {\n\t\tif (isSingle) {\n\t\t\tthis.el['on' + event] = handler;\n\t\t} else {\n\t\t\tthis.el.addEventListener(event, handler);\n\t\t}\n\t\treturn this;\n\t}\n\n\toff(event, handler) {\n\t\tthis.el.removeEventListener(event, handler);\n\t\treturn this;\n\t}\n\n\tattr(key, value) {\n\t\tif (value !== undefined) {\n\t\t\tthis.el.setAttribute(key, value);\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn this.el.getAttribute(key, value);\n\t\t}\n\t}\n\n\tremoveAttr(key) {\n\t\tthis.el.removeAttribute(key);\n\t\treturn this;\n\t}\n\n\taddClass(...names) {\n\t\tthis.el.classList.add(...names);\n\t\treturn this;\n\t}\n\n\tremoveClass(...names) {\n\t\tthis.el.classList.remove(...names);\n\t\treturn this;\n\t}\n\n\thasClass(name) {\n\t\treturn this.el.classList.contains(name);\n\t}\n\n\twidth(val) {\n\t\treturn this.css('width', val);\n\t}\n\n\theight(val) {\n\t\treturn this.css('height', val);\n\t}\n\n\tcss(name, val) {\n\t\tif (val !== undefined) {\n\t\t\tthis.el.style[name] = val;\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn window.getComputedStyle(this.el)[name];\n\t\t}\n\t}\n\n\tclearStyle() {\n\t\tthis.el.style.cssText = '';\n\t\treturn this;\n\t}\n\n\tgetElement() {\n\t\treturn this.el;\n\t}\n\n\tgetElements() {\n\t\treturn this.els;\n\t}\n\n\tappend(el) {\n\t\tif (el instanceof DOM) {\n\t\t\tel = el.getElement();\n\t\t}\n\t\tthis.el.appendChild(el);\n\t\treturn this;\n\t}\n\n\tremove() {\n\t\tthis.el.remove();\n\t\treturn this;\n\t}\n\n\treplace(el) {\n\t\tif (el instanceof DOM) {\n\t\t\tel = el.getElement();\n\t\t}\n\t\tthis\n\t\t.el\n\t\t.parentNode\n\t\t.replaceChild(el, this.el);\n\t\treturn this;\n\t}\n\n\thtml(html) {\n\t\tif (html !== undefined) {\n\t\t\tthis.el.innerHTML = html;\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn this.el.innerHTML;\n\t\t}\n\t}\n\n\ttext(str) {\n\t\tif (str !== undefined) {\n\t\t\tthis.el.innerText = str;\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn this.el.innerText;\n\t\t}\n\t}\n\n\tvalue(val) {\n\t\tif (val !== undefined) {\n\t\t\tthis.el.value = val;\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn this.el.value;\n\t\t}\n\t}\n\n\tparent() {\n\t\treturn new DOM(this.el.parentNode);\n\t}\n\n\tchild() {\n\t\treturn [...this.el.children].map((el) => {\n\t\t\treturn new DOM(el);\n\t\t});\n\t}\n\n\tshow() {\n\t\tthis.removeClass('hidden');\n\t\treturn this;\n\t}\n\n\thide() {\n\t\tthis.addClass('hidden');\n\t\treturn this;\n\t}\n\n\tclick() {\n\t\tthis.el.click();\n\t\treturn this;\n\t}\n}\n\nmodule.exports = (selector) => new DOM(selector);\n},{}],5:[function(require,module,exports){\nconst $ = require('./dom.js');\nconst popup = require('./popup.js');\n\nclass GroupItem {\n\tconstructor() {\n\t\tthis.$el = $(`<li class=\"item mark\">\n\t\t\t<span class=\"js-status status\">\n\t\t\t\t<i class=\"js-show icon icon-show\" title=\"隐藏\"></i>\n\t\t\t\t<i class=\"js-hide icon icon-hide hidden\" title=\"显示\"></i>\n\t\t\t</span>\n\t\t\t\n\t\t\t<p class=\"js-name single-line\" title=\"分组名\">分组名</p>\n\t\t\t<input class=\"js-input edit-text hidden\" autocomplete=\"off\"/>\n\n\t\t\t<span class=\"ctrl\">\n\t\t\t\t<i class=\"js-edit icon icon-edit\" title=\"重命名\"></i>\n\t\t\t\t<i class=\"js-submit icon icon-submit hidden\" title=\"确定\"></i>\n\t\t\t\t<i class=\"js-delete icon icon-delete\" title=\"删除\"></i>\n\t\t\t</span>\n\t\t</li>`);\n\n\t\tlet $status = this.$el.find('.js-status');\n\t\tlet $showStatus = this.$el.find('.js-show');\n\t\tlet $hideStatus = this.$el.find('.js-hide');\n\n\t\tlet $nameText = this.$el.find('.js-name');\n\t\tlet $nameInput = this.$el.find('.js-input');\n\t\tlet $edit = this.$el.find('.js-edit');\n\t\tlet $submit = this.$el.find('.js-submit');\n\n\t\tlet $delete = this.$el.find('.js-delete');\n\n\t\tthis.$el.on('click', () => this.emit('click'));\n\n\t\t$status.on('click', (e) => {\n\n\t\t\te.stopPropagation();\n\n\t\t\tif ($showStatus.hasClass('hidden')) {\n\t\t\t\tlet flag = this.emit('status', true);\n\n\t\t\t\tif (flag !== false) {\n\t\t\t\t\t$showStatus.show();\n\t\t\t\t\t$hideStatus.hide();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\tlet flag = this.emit('status', false);\n\n\t\t\t\tif (flag !== false) {\n\t\t\t\t\t$showStatus.hide();\n\t\t\t\t\t$hideStatus.show();\n\t\t\t\t}\n\t\t\t}\n\n\t\t});\n\n\t\t$edit.on('click', (e) => {\n\n\t\t\te.stopPropagation();\n\n\t\t\t$edit.hide();\n\t\t\t$submit.show();\n\t\t\t$nameText.hide();\n\t\t\t$nameInput\n\t\t\t\t.show()\n\t\t\t\t.value($nameText.text());\n\t\t})\n\n\t\t$submit.on('click', (e) => {\n\n\t\t\te.stopPropagation();\n\n\t\t\tlet name = $nameInput.value();\n\n\t\t\tlet flag = this.emit('rename', name);\n\n\t\t\tif (flag !== false) {\n\t\t\t\t$edit.show();\n\t\t\t\t$submit.hide();\n\t\t\t\t$nameInput.hide();\n\t\t\t\t$nameText\n\t\t\t\t\t.show()\n\t\t\t\t\t.text(name)\n\t\t\t\t\t.attr('title', name);\n\n\t\t\t\tthis.name = name;\n\t\t\t}\n\t\t\t\n\t\t});\n\n\t\t$nameInput.on('blur', () => $submit.click());\n\n\t\t$delete.on('click', (e) => {\n\n\t\t\te.stopPropagation();\n\t\t\t\n\t\t\tpopup({\n\t\t\t\tcontent: '是否确认删除分组，<br />删除后将不可恢复。',\n\t\t\t\tconfirm: () => {\n\t\t\t\t\tthis.emit('delete');\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t}\n\n\tgetElement() {\n\t\treturn this.$el;\n\t}\n\n\tgetName() {\n\t\treturn this.name;\n\t}\n\n\tsetName(name) {\n\t\tthis.name = name;\n\n\t\tthis.$el\n\t\t\t.find('.js-name')\n\t\t\t.attr('title', name)\n\t\t\t.text(name);\n\n\t\treturn this;\n\t}\n\n\tsetActive() {\n\t\tthis.$el.addClass('active');\n\t\treturn this;\n\t}\n\n\tisActive() {\n\t\treturn this.$el.hasClass('active');\n\t}\n\n\tremoveActive() {\n\t\tthis.$el.removeClass('active');\n\t\treturn this;\n\t}\n\n\temit(event, ...params) {\n\t\tif (typeof this[event + 'Handler'] === 'function') {\n\t\t\treturn this[event + 'Handler'](...params);\n\t\t}\n\t}\n\n\ton(event, handler) {\n\t\tthis[event + 'Handler'] = handler;\n\t\treturn this;\n\t}\n\n}\n\nmodule.exports = GroupItem;\n},{\"./dom.js\":4,\"./popup.js\":7}],6:[function(require,module,exports){\nconst $ = require('./dom.js');\nconst toast = require('./toast.js');\n\nclass Group {\n\tconstructor(selector) {\n\t\tthis.$el = $(selector);\n\t\tthis.children = [];\n\t\tthis.index = 0;\n\t}\n\n\tsetCanvas($canvas) {\n\t\tthis.$canvas = $canvas;\n\t}\n\n\tinitItem($item) {\n\t\tif (!$item.getName()) {\n\t\t\t$item.setName('分组' + (++this.index));\n\t\t}\n\n\t\t$item.on('click', () => {\n\t\t\tthis.choose($item);\n\t\t});\n\n\t\t$item.on('delete', () => {\n\t\t\tthis.remove($item);\n\t\t});\n\t}\n\n\tcheck() {\n\t\tif (this.children.indexOf(this.$acitve) === -1) {\n\t\t\tthis.$acitve = this.children[0].setActive();\n\t\t\tthis.emit('activeChange', this.$acitve);\n\t\t};\n\t}\n\n\tchoose($item) {\n\t\tthis.$acitve = $item.setActive();\n\t\tthis.emit('activeChange', this.$acitve);\n\t\tthis.children.forEach(($child) => {\n\t\t\tif ($child !== this.$acitve) {\n\t\t\t\t$child.removeActive();\n\t\t\t}\n\t\t});\n\t}\n\n\tappend($item) {\n\t\tthis.initItem($item);\n\t\tthis.$el.append($item.getElement());\n\t\tthis.children.push($item);\n\t\tthis.check();\n\t}\n\n\tremove($item) {\n\t\tif (this.children.length > 1) {\n\t\t\t$item.getElement().remove();\n\t\t\tthis.children.splice(this.children.indexOf($item), 1);\n\t\t\tthis.check();\n\t\t} else {\n\t\t\ttoast('删除失败，至少保留一个分组', 'error');\n\t\t}\n\t}\n\n\tgetChildren() {\n\t\treturn this.children;\n\t}\n\n\tlength() {\n\t\treturn this.children.length;\n\t}\n\n\temit(event, ...params) {\n\t\tif (typeof this[event + 'Handler'] === 'function') {\n\t\t\treturn this[event + 'Handler'](...params);\n\t\t}\n\t}\n\n\ton(event, handler) {\n\t\tthis[event + 'Handler'] = handler;\n\t\treturn this;\n\t}\n}\n\nmodule.exports = Group;\n},{\"./dom.js\":4,\"./toast.js\":8}],7:[function(require,module,exports){\nconst $ = require('./dom.js');\n\nlet $body = $('body');\n\nlet $popup = $(`<div class=\"popup\">\n\t<div class=\"box\">\n\n\t\t<div class=\"js-title title\"></div>\n\n\t\t<div class=\"js-content content\"></div>\n\n\t\t<div class=\"btns\">\n\t\t\t<button class=\"js-cancel cancel\">取消</button>\n\t\t\t<button class=\"js-confirm confirm ml\">确定</button>\n\t\t</div>\n\n\t</div>\n</div>`);\n\nlet $title = $popup.find('.js-title');\nlet $content = $popup.find('.js-content');\nlet $cancel = $popup.find('.js-cancel');\nlet $confirm = $popup.find('.js-confirm');\n\n$popup.on('animationend', () => {\n\tif ($popup.hasClass('fade-out')) {\n\t\t$popup.removeClass('fade-out');\n\t\t$popup.remove();\n\t}\n\n\tif ($popup.hasClass('fade-in')) {\n\t\t$popup.removeClass('fade-in');\n\t}\n});\n\nmodule.exports = (options = {}) => {\n\n\tif (typeof options === 'string') {\n\t\toptions = {\n\t\t\tcontent: options\n\t\t};\n\t}\n\n\t$title.text(options.title || '提示');\n\n\t$content.html(options.content || '');\n\n\t$cancel.on('click', () => {\n\t\tif (typeof options.cancel === 'function') {\n\t\t\tlet flag = options.cancel();\n\t\t\tif (flag === 'false') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t$popup.addClass('fade-out');\n\t}, true);\n\n\t$confirm.on('click', () => {\n\t\tif (typeof options.confirm === 'function') {\n\t\t\tlet flag = options.confirm();\n\t\t\tif (flag === 'false') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t$popup.addClass('fade-out');\n\t}, true);\n\n\t$body.append($popup.addClass('fade-in'));\n};\n},{\"./dom.js\":4}],8:[function(require,module,exports){\nconst $ = require('./dom.js');\n\nlet $body = $('body');\n\nlet $toast = $(`<div class=\"toast\">\n\t<i class=\"js-icon icon\"></i>\n\t<span class=\"js-text\"></span>\n</div>`);\n\nlet $icon = $toast.find('.js-icon');\nlet $text = $toast.find('.js-text');\n\n$toast.on('animationend', () => {\n\t$toast.remove();\n});\n\nmodule.exports = (str, type = \"prompt\") => {\n\t$toast\n\t\t.removeClass('success')\n\t\t.removeClass('error')\n\t\t.removeClass('prompt')\n\t\t.addClass(type);\n\n\t$icon\n\t\t.removeClass('icon-success')\n\t\t.removeClass('icon-error')\n\t\t.removeClass('icon-prompt')\n\t\t.addClass(`icon-${ type }`);\n\n\t$text.text(str);\n\n\t$body.append($toast);\n};\n},{\"./dom.js\":4}],9:[function(require,module,exports){\nconst $ = require('./dom.js');\n\nclass Uploader {\n\n\tconstructor(selector) {\n\n\t\tthis.$el = $(selector);\n\n\t\tthis.init();\n\n\t\tthis.$el.on('change', () => {\n\t\t\tlet file = this.$el.getElement().files[0];\n\n\t\t\tif (!file) {\n\t\t\t\tthis.$el.value('');\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet flag = this.emit('choose', file);\n\t\t\tif (flag === false) {\n\t\t\t\tthis.$el.value('');\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet reader = new FileReader();\n\n\t\t\treader.onload = (e) => {\n\t\t\t\t\tthis.emit('success', e.target.result, e);\n\t\t\t};\n\n\t\t\treader.onerror = function(e) {\n\t\t\t\tthis.emit('error', e);\n\t\t\t};\n\n\t\t\treader.readAsDataURL(file);\n\n\t\t\tthis.$el.value('');\n\t\t});\n\t}\n\n\tinit() {\n\t\tthis.successHandler = () => {};\n\t\tthis.errorHandler = () => alert((this.options.name || '文件') + '读取错误');\n\t\tthis.$el.removeAttr('accept');\n\t}\n\n\topen(options) {\n\t\tthis.init();\n\t\tthis.options = options || {};\n\n\t\tif (this.options.accept) {\n\t\t\tthis.$el.attr('accept', options.accept);\n\t\t}\n\n\t\tthis.$el.click();\n\n\t\treturn this;\n\n\t}\n\n\ton(event, handler) {\n\t\tthis[event + 'Handler'] = handler;\n\t\treturn this;\n\t}\n\n\temit(event, ...params) {\n\t\tif (typeof this[event + 'Handler'] === 'function') {\n\t\t\treturn this[event + 'Handler'](...params);\n\t\t}\n\t}\n}\n\nmodule.exports = Uploader;\n},{\"./dom.js\":4}],10:[function(require,module,exports){\nclass Util {\n\ttoFloat(str) {\n\t\tstr.match(/^(\\d+)([a-zA-Z]*)$/);\n\t\tthis.unit = RegExp.$2\n\t\treturn RegExp.$1;\n\t}\n\n\ttoString(num) {\n\t\treturn num + this.unit\n\t}\n}\n\nmodule.exports = Util;\n},{}]},{},[1])\n\n","class DOM {\n\n\tconstructor(selector, el = document) {\n\t\tif (/^<\\w+[\\s\\w\\=\\-\\\"\\;]*>[\\w\\W]*<\\/\\w+>$/.test(selector)) {\n\t\t\tthis.el = document.createElement('div');\n\t\t\tthis.html(selector);\n\t\t\tthis.el = this.el.firstChild;\n\t\t\tthis.els = [this.el];\n\t\t} else if (typeof selector === 'object') {\n\n\t\t\tif (selector instanceof DOM) {\n\t\t\t\tthis.el = selector.getElement();\n\t\t\t\tthis.els = selector.getElements();\n\n\t\t\t} else {\n\t\t\t\tthis.el = selector;\n\t\t\t\tthis.els = [selector];\t\n\t\t\t}\n\t\t\t\n\t\t} else {\n\t\t\tthis.els = el.querySelectorAll(selector);\n\t\t\tthis.el = this.els[0];\n\t\t}\n\t}\n\n\teach(handler) {\n\t\tthis.els.forEach((el) => {\n\t\t\thandler(el);\n\t\t});\n\t}\n\n\tfind(selector) {\n\t\treturn new DOM(selector, this.el);\n\t}\n\n\ton(event, handler, isSingle) {\n\t\tif (isSingle) {\n\t\t\tthis.el['on' + event] = handler;\n\t\t} else {\n\t\t\tthis.el.addEventListener(event, handler);\n\t\t}\n\t\treturn this;\n\t}\n\n\toff(event, handler) {\n\t\tthis.el.removeEventListener(event, handler);\n\t\treturn this;\n\t}\n\n\tattr(key, value) {\n\t\tif (value !== undefined) {\n\t\t\tthis.el.setAttribute(key, value);\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn this.el.getAttribute(key, value);\n\t\t}\n\t}\n\n\tremoveAttr(key) {\n\t\tthis.el.removeAttribute(key);\n\t\treturn this;\n\t}\n\n\taddClass(...names) {\n\t\tthis.el.classList.add(...names);\n\t\treturn this;\n\t}\n\n\tremoveClass(...names) {\n\t\tthis.el.classList.remove(...names);\n\t\treturn this;\n\t}\n\n\thasClass(name) {\n\t\treturn this.el.classList.contains(name);\n\t}\n\n\twidth(val) {\n\t\treturn this.css('width', val);\n\t}\n\n\theight(val) {\n\t\treturn this.css('height', val);\n\t}\n\n\tcss(name, val) {\n\t\tif (val !== undefined) {\n\t\t\tthis.el.style[name] = val;\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn window.getComputedStyle(this.el)[name];\n\t\t}\n\t}\n\n\tclearStyle() {\n\t\tthis.el.style.cssText = '';\n\t\treturn this;\n\t}\n\n\tgetElement() {\n\t\treturn this.el;\n\t}\n\n\tgetElements() {\n\t\treturn this.els;\n\t}\n\n\tappend(el) {\n\t\tif (el instanceof DOM) {\n\t\t\tel = el.getElement();\n\t\t}\n\t\tthis.el.appendChild(el);\n\t\treturn this;\n\t}\n\n\tremove() {\n\t\tthis.el.remove();\n\t\treturn this;\n\t}\n\n\treplace(el) {\n\t\tif (el instanceof DOM) {\n\t\t\tel = el.getElement();\n\t\t}\n\t\tthis\n\t\t.el\n\t\t.parentNode\n\t\t.replaceChild(el, this.el);\n\t\treturn this;\n\t}\n\n\thtml(html) {\n\t\tif (html !== undefined) {\n\t\t\tthis.el.innerHTML = html;\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn this.el.innerHTML;\n\t\t}\n\t}\n\n\ttext(str) {\n\t\tif (str !== undefined) {\n\t\t\tthis.el.innerText = str;\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn this.el.innerText;\n\t\t}\n\t}\n\n\tvalue(val) {\n\t\tif (val !== undefined) {\n\t\t\tthis.el.value = val;\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn this.el.value;\n\t\t}\n\t}\n\n\tparent() {\n\t\treturn new DOM(this.el.parentNode);\n\t}\n\n\tchild() {\n\t\treturn [...this.el.children].map((el) => {\n\t\t\treturn new DOM(el);\n\t\t});\n\t}\n\n\tshow() {\n\t\tthis.removeClass('hidden');\n\t\treturn this;\n\t}\n\n\thide() {\n\t\tthis.addClass('hidden');\n\t\treturn this;\n\t}\n\n\tclick() {\n\t\tthis.el.click();\n\t\treturn this;\n\t}\n}\n\nmodule.exports = (selector) => new DOM(selector);","const $ = require('./dom.js');\nconst popup = require('./popup.js');\n\nclass GroupItem {\n\tconstructor() {\n\t\tthis.$el = $(`<li class=\"item mark\">\n\t\t\t<span class=\"js-status status\">\n\t\t\t\t<i class=\"js-show icon icon-show\" title=\"隐藏\"></i>\n\t\t\t\t<i class=\"js-hide icon icon-hide hidden\" title=\"显示\"></i>\n\t\t\t</span>\n\t\t\t\n\t\t\t<p class=\"js-name single-line\" title=\"分组名\">分组名</p>\n\t\t\t<input class=\"js-input edit-text hidden\" autocomplete=\"off\"/>\n\n\t\t\t<span class=\"ctrl\">\n\t\t\t\t<i class=\"js-edit icon icon-edit\" title=\"重命名\"></i>\n\t\t\t\t<i class=\"js-submit icon icon-submit hidden\" title=\"确定\"></i>\n\t\t\t\t<i class=\"js-delete icon icon-delete\" title=\"删除\"></i>\n\t\t\t</span>\n\t\t</li>`);\n\n\t\tlet $status = this.$el.find('.js-status');\n\t\tlet $showStatus = this.$el.find('.js-show');\n\t\tlet $hideStatus = this.$el.find('.js-hide');\n\n\t\tlet $nameText = this.$el.find('.js-name');\n\t\tlet $nameInput = this.$el.find('.js-input');\n\t\tlet $edit = this.$el.find('.js-edit');\n\t\tlet $submit = this.$el.find('.js-submit');\n\n\t\tlet $delete = this.$el.find('.js-delete');\n\n\t\tthis.$el.on('click', () => this.emit('click'));\n\n\t\t$status.on('click', (e) => {\n\n\t\t\te.stopPropagation();\n\n\t\t\tif ($showStatus.hasClass('hidden')) {\n\t\t\t\tlet flag = this.emit('status', true);\n\n\t\t\t\tif (flag !== false) {\n\t\t\t\t\t$showStatus.show();\n\t\t\t\t\t$hideStatus.hide();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\tlet flag = this.emit('status', false);\n\n\t\t\t\tif (flag !== false) {\n\t\t\t\t\t$showStatus.hide();\n\t\t\t\t\t$hideStatus.show();\n\t\t\t\t}\n\t\t\t}\n\n\t\t});\n\n\t\t$edit.on('click', (e) => {\n\n\t\t\te.stopPropagation();\n\n\t\t\t$edit.hide();\n\t\t\t$submit.show();\n\t\t\t$nameText.hide();\n\t\t\t$nameInput\n\t\t\t\t.show()\n\t\t\t\t.value($nameText.text());\n\t\t})\n\n\t\t$submit.on('click', (e) => {\n\n\t\t\te.stopPropagation();\n\n\t\t\tlet name = $nameInput.value();\n\n\t\t\tlet flag = this.emit('rename', name);\n\n\t\t\tif (flag !== false) {\n\t\t\t\t$edit.show();\n\t\t\t\t$submit.hide();\n\t\t\t\t$nameInput.hide();\n\t\t\t\t$nameText\n\t\t\t\t\t.show()\n\t\t\t\t\t.text(name)\n\t\t\t\t\t.attr('title', name);\n\n\t\t\t\tthis.name = name;\n\t\t\t}\n\t\t\t\n\t\t});\n\n\t\t$nameInput.on('blur', () => $submit.click());\n\n\t\t$delete.on('click', (e) => {\n\n\t\t\te.stopPropagation();\n\t\t\t\n\t\t\tpopup({\n\t\t\t\tcontent: '是否确认删除分组，<br />删除后将不可恢复。',\n\t\t\t\tconfirm: () => {\n\t\t\t\t\tthis.emit('delete');\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t}\n\n\tgetElement() {\n\t\treturn this.$el;\n\t}\n\n\tgetName() {\n\t\treturn this.name;\n\t}\n\n\tsetName(name) {\n\t\tthis.name = name;\n\n\t\tthis.$el\n\t\t\t.find('.js-name')\n\t\t\t.attr('title', name)\n\t\t\t.text(name);\n\n\t\treturn this;\n\t}\n\n\tsetActive() {\n\t\tthis.$el.addClass('active');\n\t\treturn this;\n\t}\n\n\tisActive() {\n\t\treturn this.$el.hasClass('active');\n\t}\n\n\tremoveActive() {\n\t\tthis.$el.removeClass('active');\n\t\treturn this;\n\t}\n\n\temit(event, ...params) {\n\t\tif (typeof this[event + 'Handler'] === 'function') {\n\t\t\treturn this[event + 'Handler'](...params);\n\t\t}\n\t}\n\n\ton(event, handler) {\n\t\tthis[event + 'Handler'] = handler;\n\t\treturn this;\n\t}\n\n}\n\nmodule.exports = GroupItem;","const $ = require('./dom.js');\nconst toast = require('./toast.js');\n\nclass Group {\n\tconstructor(selector) {\n\t\tthis.$el = $(selector);\n\t\tthis.children = [];\n\t\tthis.index = 0;\n\t}\n\n\tsetCanvas($canvas) {\n\t\tthis.$canvas = $canvas;\n\t}\n\n\tinitItem($item) {\n\t\tif (!$item.getName()) {\n\t\t\t$item.setName('分组' + (++this.index));\n\t\t}\n\n\t\t$item.on('click', () => {\n\t\t\tthis.choose($item);\n\t\t});\n\n\t\t$item.on('delete', () => {\n\t\t\tthis.remove($item);\n\t\t});\n\t}\n\n\tcheck() {\n\t\tif (this.children.indexOf(this.$acitve) === -1) {\n\t\t\tthis.$acitve = this.children[0].setActive();\n\t\t\tthis.emit('activeChange', this.$acitve);\n\t\t};\n\t}\n\n\tchoose($item) {\n\t\tthis.$acitve = $item.setActive();\n\t\tthis.emit('activeChange', this.$acitve);\n\t\tthis.children.forEach(($child) => {\n\t\t\tif ($child !== this.$acitve) {\n\t\t\t\t$child.removeActive();\n\t\t\t}\n\t\t});\n\t}\n\n\tappend($item) {\n\t\tthis.initItem($item);\n\t\tthis.$el.append($item.getElement());\n\t\tthis.children.push($item);\n\t\tthis.check();\n\t}\n\n\tremove($item) {\n\t\tif (this.children.length > 1) {\n\t\t\t$item.getElement().remove();\n\t\t\tthis.children.splice(this.children.indexOf($item), 1);\n\t\t\tthis.check();\n\t\t} else {\n\t\t\ttoast('删除失败，至少保留一个分组', 'error');\n\t\t}\n\t}\n\n\tgetChildren() {\n\t\treturn this.children;\n\t}\n\n\tlength() {\n\t\treturn this.children.length;\n\t}\n\n\temit(event, ...params) {\n\t\tif (typeof this[event + 'Handler'] === 'function') {\n\t\t\treturn this[event + 'Handler'](...params);\n\t\t}\n\t}\n\n\ton(event, handler) {\n\t\tthis[event + 'Handler'] = handler;\n\t\treturn this;\n\t}\n}\n\nmodule.exports = Group;","const $ = require('./dom.js');\n\nlet $body = $('body');\n\nlet $popup = $(`<div class=\"popup\">\n\t<div class=\"box\">\n\n\t\t<div class=\"js-title title\"></div>\n\n\t\t<div class=\"js-content content\"></div>\n\n\t\t<div class=\"btns\">\n\t\t\t<button class=\"js-cancel cancel\">取消</button>\n\t\t\t<button class=\"js-confirm confirm ml\">确定</button>\n\t\t</div>\n\n\t</div>\n</div>`);\n\nlet $title = $popup.find('.js-title');\nlet $content = $popup.find('.js-content');\nlet $cancel = $popup.find('.js-cancel');\nlet $confirm = $popup.find('.js-confirm');\n\n$popup.on('animationend', () => {\n\tif ($popup.hasClass('fade-out')) {\n\t\t$popup.removeClass('fade-out');\n\t\t$popup.remove();\n\t}\n\n\tif ($popup.hasClass('fade-in')) {\n\t\t$popup.removeClass('fade-in');\n\t}\n});\n\nmodule.exports = (options = {}) => {\n\n\tif (typeof options === 'string') {\n\t\toptions = {\n\t\t\tcontent: options\n\t\t};\n\t}\n\n\t$title.text(options.title || '提示');\n\n\t$content.html(options.content || '');\n\n\t$cancel.on('click', () => {\n\t\tif (typeof options.cancel === 'function') {\n\t\t\tlet flag = options.cancel();\n\t\t\tif (flag === 'false') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t$popup.addClass('fade-out');\n\t}, true);\n\n\t$confirm.on('click', () => {\n\t\tif (typeof options.confirm === 'function') {\n\t\t\tlet flag = options.confirm();\n\t\t\tif (flag === 'false') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t$popup.addClass('fade-out');\n\t}, true);\n\n\t$body.append($popup.addClass('fade-in'));\n};","const $ = require('./dom.js');\n\nlet $body = $('body');\n\nlet $toast = $(`<div class=\"toast\">\n\t<i class=\"js-icon icon\"></i>\n\t<span class=\"js-text\"></span>\n</div>`);\n\nlet $icon = $toast.find('.js-icon');\nlet $text = $toast.find('.js-text');\n\n$toast.on('animationend', () => {\n\t$toast.remove();\n});\n\nmodule.exports = (str, type = \"prompt\") => {\n\t$toast\n\t\t.removeClass('success')\n\t\t.removeClass('error')\n\t\t.removeClass('prompt')\n\t\t.addClass(type);\n\n\t$icon\n\t\t.removeClass('icon-success')\n\t\t.removeClass('icon-error')\n\t\t.removeClass('icon-prompt')\n\t\t.addClass(`icon-${ type }`);\n\n\t$text.text(str);\n\n\t$body.append($toast);\n};","const $ = require('./dom.js');\n\nclass Uploader {\n\n\tconstructor(selector) {\n\n\t\tthis.$el = $(selector);\n\n\t\tthis.init();\n\n\t\tthis.$el.on('change', () => {\n\t\t\tlet file = this.$el.getElement().files[0];\n\n\t\t\tif (!file) {\n\t\t\t\tthis.$el.value('');\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet flag = this.emit('choose', file);\n\t\t\tif (flag === false) {\n\t\t\t\tthis.$el.value('');\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet reader = new FileReader();\n\n\t\t\treader.onload = (e) => {\n\t\t\t\t\tthis.emit('success', e.target.result, e);\n\t\t\t};\n\n\t\t\treader.onerror = function(e) {\n\t\t\t\tthis.emit('error', e);\n\t\t\t};\n\n\t\t\treader.readAsDataURL(file);\n\n\t\t\tthis.$el.value('');\n\t\t});\n\t}\n\n\tinit() {\n\t\tthis.successHandler = () => {};\n\t\tthis.errorHandler = () => alert((this.options.name || '文件') + '读取错误');\n\t\tthis.$el.removeAttr('accept');\n\t}\n\n\topen(options) {\n\t\tthis.init();\n\t\tthis.options = options || {};\n\n\t\tif (this.options.accept) {\n\t\t\tthis.$el.attr('accept', options.accept);\n\t\t}\n\n\t\tthis.$el.click();\n\n\t\treturn this;\n\n\t}\n\n\ton(event, handler) {\n\t\tthis[event + 'Handler'] = handler;\n\t\treturn this;\n\t}\n\n\temit(event, ...params) {\n\t\tif (typeof this[event + 'Handler'] === 'function') {\n\t\t\treturn this[event + 'Handler'](...params);\n\t\t}\n\t}\n}\n\nmodule.exports = Uploader;","class Util {\n\ttoFloat(str) {\n\t\tstr.match(/^(\\d+)([a-zA-Z]*)$/);\n\t\tthis.unit = RegExp.$2\n\t\treturn RegExp.$1;\n\t}\n\n\ttoString(num) {\n\t\treturn num + this.unit\n\t}\n}\n\nmodule.exports = Util;"]}