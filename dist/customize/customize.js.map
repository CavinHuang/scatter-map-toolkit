{"version":3,"sources":["../node_modules/._browser-pack@6.0.4@browser-pack/_prelude.js","../src/customize/customize.js","../src/customize/module/canvas.js","../src/customize/module/dom.js","../src/customize/module/group-item.js","customize.js","../src/customize/module/group-list.js","../src/customize/module/popup.js","../src/customize/module/toast.js","../src/customize/module/uploader.js","../src/customize/module/util.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","$","Uploader","Canvas","GroupList","GroupItem","$uploader","$groupList","$canvas","$index","$uploadImg","on","remove","open","name","accept","data","setImage","addClass","$zoomIn","$zoomOut","$replaceImg","zoomIn","zoomOut","$addGroup","$search","$current","setCanvas","$item","text","getName","append","click","children","forEach","$child","indexOf","value","getElement","show","hide","./module/canvas.js","./module/dom.js","./module/group-item.js","./module/group-list.js","./module/uploader.js","2","Util","widthUtil","heightUtil","selector","_classCallCheck","this","$el","$img","find","$areas","_createClass","key","$group","scale","clearStyle","width","toFloat","height","update","toString","src","_this","attr","init","count","arguments","undefined","./dom.js","3","DOM","el","document","test","createElement","html","firstChild","els","_typeof","getElements","querySelectorAll","handler","event","isSingle","addEventListener","removeEventListener","setAttribute","getAttribute","removeAttribute","_el$classList","classList","add","apply","_el$classList2","contains","val","css","style","window","getComputedStyle","cssText","appendChild","parentNode","replaceChild","innerHTML","str","innerText","concat","_toConsumableArray","map","removeClass","4","popup","_this2","areas","$status","$showStatus","$hideStatus","$nameText","$nameInput","$edit","$submit","$delete","emit","stopPropagation","hasClass","content","confirm","$area","push","bind","_len","params","Array","_key","./popup.js","5","toast","index","$acitve","setActive","_this3","removeActive","check","splice","_len2","_key2","$body","$popup","$title","$content","$cancel","$confirm","options","title","cancel","$toast","$icon","$text","type","8","_this4","file","files","reader","FileReader","onload","target","result","onerror","readAsDataURL","_this5","successHandler","errorHandler","alert","removeAttr","_len3","_key3","9","match","unit","RegExp","$2","$1","num"],"mappings":"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","file":"customize.js","sourcesContent":["(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()","const $ = require('./module/dom.js');\nconst Uploader = require('./module/uploader.js');\nconst Canvas = require('./module/canvas.js');\nconst GroupList = require('./module/group-list.js');\nconst GroupItem = require('./module/group-item.js');\n\n(function() {\n\n\tconst $uploader = new Uploader('#upload-file');\n\tconst $groupList = new GroupList('#group');\n\tconst $canvas = new Canvas('#canvas');\n\n\t// const $main = $('#main');\n\n\t/* 索引页 */\n\tconst $index = $('#index');\n\tconst $uploadImg = $('#upload-img');\n\t// const $uploadOption = $('#upload-option');\n\n\t$index.on('animationend', () => $index.remove());\n\n\t$uploadImg.on('click', () => {\n\t\t$uploader.open({\n\t\t\tname: '图片',\n\t\t\taccept: 'image/*'\n\t\t}).on('success', (data) => {\n\t\t\t$canvas.setImage(data);\n\t\t\t$index.addClass('hide');\n\t\t});\n\t});\n\n\t/* 画布操作 */\n\tconst $zoomIn = $('#zoom-in');\n\tconst $zoomOut = $('#zoom-out');\n\tconst $replaceImg = $('#replace-img');\n\n\t// $canvas.bind($groupList);\n\n\t$zoomIn.on('click', () => $canvas.zoomIn());\n\n\t$zoomOut.on('click', () => $canvas.zoomOut());\n\n\t$replaceImg.on('click', () => {\n\t\t$uploader.open({\n\t\t\tname: '图片',\n\t\t\taccept: 'image/*'\n\t\t}).on('success', (data) => {\n\t\t\t$canvas.setImage(data);\n\t\t});\n\t});\n\n\t/* 分组操作 */\n\tconst $addGroup = $('#add-group');\n\tconst $search = $('#search');\n\tconst $current = $('#current');\n\n\t$groupList.setCanvas($canvas);\n\n\t$groupList.on('activeChange', ($item) => {\n\t\t$current.text($item.getName());\n\t});\n\n\t$addGroup.on('click', () => {\n\t\t$groupList.append(new GroupItem());\n\t}).click();\n\n\t$search.on('input', () => {\n\t\t$groupList.children.forEach(($child) => {\n\t\t\tif ($child.getName().indexOf($search.value()) === -1) {\n\t\t\t\t$child.getElement().show();\n\t\t\t} else {\n\t\t\t\t$child.getElement().hide();\n\t\t\t}\n\t\t});\n\t});\n\n})();","const $ = require('./dom.js');\nconst Util = require('./util.js');\n\nconst widthUtil = new Util();\nconst heightUtil = new Util();\n\nclass Canvas {\n\n\tconstructor(selector) {\n\t\tthis.$el = $(selector);\n\t\tthis.$img = this.$el.find('.pic');\n\t\tthis.$areas = this.$el.find('.areas');\n\t}\n\n\tbind($group) {\n\t\tthis.$group = $group;\n\t}\n\n\tinit() {\n\t\tthis.scale = 1;\n\t\tthis.$img.clearStyle();\n\t\tthis.width = widthUtil.toFloat(this.$img.width());\n\t\tthis.height = heightUtil.toFloat(this.$img.height());\n\t\tthis.update();\n\t}\n\n\tupdate() {\n\t\tthis.$img.width(widthUtil.toString(this.width * this.scale));\n\t\tthis.$img.height(heightUtil.toString(this.height * this.scale));\n\t}\n\n\tsetImage(src) {\n\t\tthis.$img.attr('src', src);\n\t\tthis.$img.on('load', () => this.init(), true);\n\t}\n\n\tzoomIn(count = 0.1) {\n\t\tthis.scale += count;\n\t\tthis.update();\n\t}\n\n\tzoomOut(count = 0.1) {\n\t\tif (this.scale > count * 2) {\n\t\t\tthis.scale -= count;\n\t\t\tthis.update();\n\t\t}\n\t}\n\n}\n\nmodule.exports = Canvas;","class DOM {\n\n\tconstructor(selector, el = document) {\n\t\tif (/^<\\w+[\\s\\w\\=\\-\\\"\\;]*>[\\w\\W]*<\\/\\w+>$/.test(selector)) {\n\t\t\tthis.el = document.createElement('div');\n\t\t\tthis.html(selector);\n\t\t\tthis.el = this.el.firstChild;\n\t\t\tthis.els = [this.el];\n\t\t} else if (typeof selector === 'object') {\n\n\t\t\tif (selector instanceof DOM) {\n\t\t\t\tthis.el = selector.getElement();\n\t\t\t\tthis.els = selector.getElements();\n\n\t\t\t} else {\n\t\t\t\tthis.el = selector;\n\t\t\t\tthis.els = [selector];\t\n\t\t\t}\n\t\t\t\n\t\t} else {\n\t\t\tthis.els = el.querySelectorAll(selector);\n\t\t\tthis.el = this.els[0];\n\t\t}\n\t}\n\n\teach(handler) {\n\t\tthis.els.forEach((el) => {\n\t\t\thandler(el);\n\t\t});\n\t}\n\n\tfind(selector) {\n\t\treturn new DOM(selector, this.el);\n\t}\n\n\ton(event, handler, isSingle) {\n\t\tif (isSingle) {\n\t\t\tthis.el['on' + event] = handler;\n\t\t} else {\n\t\t\tthis.el.addEventListener(event, handler);\n\t\t}\n\t\treturn this;\n\t}\n\n\toff(event, handler) {\n\t\tthis.el.removeEventListener(event, handler);\n\t\treturn this;\n\t}\n\n\tattr(key, value) {\n\t\tif (value !== undefined) {\n\t\t\tthis.el.setAttribute(key, value);\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn this.el.getAttribute(key, value);\n\t\t}\n\t}\n\n\tremoveAttr(key) {\n\t\tthis.el.removeAttribute(key);\n\t\treturn this;\n\t}\n\n\taddClass(...names) {\n\t\tthis.el.classList.add(...names);\n\t\treturn this;\n\t}\n\n\tremoveClass(...names) {\n\t\tthis.el.classList.remove(...names);\n\t\treturn this;\n\t}\n\n\thasClass(name) {\n\t\treturn this.el.classList.contains(name);\n\t}\n\n\twidth(val) {\n\t\treturn this.css('width', val);\n\t}\n\n\theight(val) {\n\t\treturn this.css('height', val);\n\t}\n\n\tcss(name, val) {\n\t\tif (val !== undefined) {\n\t\t\tthis.el.style[name] = val;\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn window.getComputedStyle(this.el)[name];\n\t\t}\n\t}\n\n\tclearStyle() {\n\t\tthis.el.style.cssText = '';\n\t\treturn this;\n\t}\n\n\tgetElement() {\n\t\treturn this.el;\n\t}\n\n\tgetElements() {\n\t\treturn this.els;\n\t}\n\n\tappend(el) {\n\t\tif (el instanceof DOM) {\n\t\t\tel = el.getElement();\n\t\t}\n\t\tthis.el.appendChild(el);\n\t\treturn this;\n\t}\n\n\tremove() {\n\t\tthis.el.remove();\n\t\treturn this;\n\t}\n\n\treplace(el) {\n\t\tif (el instanceof DOM) {\n\t\t\tel = el.getElement();\n\t\t}\n\t\tthis\n\t\t.el\n\t\t.parentNode\n\t\t.replaceChild(el, this.el);\n\t\treturn this;\n\t}\n\n\thtml(html) {\n\t\tif (html !== undefined) {\n\t\t\tthis.el.innerHTML = html;\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn this.el.innerHTML;\n\t\t}\n\t}\n\n\ttext(str) {\n\t\tif (str !== undefined) {\n\t\t\tthis.el.innerText = str;\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn this.el.innerText;\n\t\t}\n\t}\n\n\tvalue(val) {\n\t\tif (val !== undefined) {\n\t\t\tthis.el.value = val;\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn this.el.value;\n\t\t}\n\t}\n\n\tparent() {\n\t\treturn new DOM(this.el.parentNode);\n\t}\n\n\tchild() {\n\t\treturn [...this.el.children].map((el) => {\n\t\t\treturn new DOM(el);\n\t\t});\n\t}\n\n\tshow() {\n\t\tthis.removeClass('hidden');\n\t\treturn this;\n\t}\n\n\thide() {\n\t\tthis.addClass('hidden');\n\t\treturn this;\n\t}\n\n\tclick() {\n\t\tthis.el.click();\n\t\treturn this;\n\t}\n}\n\nmodule.exports = (selector) => new DOM(selector);","const $ = require('./dom.js');\nconst popup = require('./popup.js');\n\nclass GroupItem {\n\tconstructor() {\n\t\tthis.$el = $(`<li class=\"item mark\">\n\t\t\t<span class=\"js-status status\">\n\t\t\t\t<i class=\"js-show icon icon-show\" title=\"隐藏\"></i>\n\t\t\t\t<i class=\"js-hide icon icon-hide hidden\" title=\"显示\"></i>\n\t\t\t</span>\n\t\t\t\n\t\t\t<p class=\"js-name single-line\" title=\"分组名\">分组名</p>\n\t\t\t<input class=\"js-input edit-text hidden\" autocomplete=\"off\"/>\n\n\t\t\t<span class=\"ctrl\">\n\t\t\t\t<i class=\"js-edit icon icon-edit\" title=\"重命名\"></i>\n\t\t\t\t<i class=\"js-submit icon icon-submit hidden\" title=\"确定\"></i>\n\t\t\t\t<i class=\"js-delete icon icon-delete\" title=\"删除\"></i>\n\t\t\t</span>\n\t\t</li>`);\n\n\t\tthis.areas = [];\n\n\t\tlet $status = this.$el.find('.js-status');\n\t\tlet $showStatus = this.$el.find('.js-show');\n\t\tlet $hideStatus = this.$el.find('.js-hide');\n\n\t\tlet $nameText = this.$el.find('.js-name');\n\t\tlet $nameInput = this.$el.find('.js-input');\n\t\tlet $edit = this.$el.find('.js-edit');\n\t\tlet $submit = this.$el.find('.js-submit');\n\n\t\tlet $delete = this.$el.find('.js-delete');\n\n\t\tthis.$el.on('click', () => this.emit('click'));\n\n\t\t$status.on('click', (e) => {\n\n\t\t\te.stopPropagation();\n\n\t\t\tif ($showStatus.hasClass('hidden')) {\n\t\t\t\tlet flag = this.emit('status', true);\n\n\t\t\t\tif (flag !== false) {\n\t\t\t\t\t$showStatus.show();\n\t\t\t\t\t$hideStatus.hide();\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tlet flag = this.emit('status', false);\n\n\t\t\t\tif (flag !== false) {\n\t\t\t\t\t$showStatus.hide();\n\t\t\t\t\t$hideStatus.show();\n\t\t\t\t}\n\t\t\t}\n\n\t\t});\n\n\t\t$edit.on('click', (e) => {\n\n\t\t\te.stopPropagation();\n\n\t\t\t$edit.hide();\n\t\t\t$submit.show();\n\t\t\t$nameText.hide();\n\t\t\t$nameInput\n\t\t\t\t.show()\n\t\t\t\t.value($nameText.text());\n\t\t});\n\n\t\t$submit.on('click', (e) => {\n\n\t\t\te.stopPropagation();\n\n\t\t\tlet name = $nameInput.value();\n\n\t\t\tlet flag = this.emit('rename', name);\n\n\t\t\tif (flag !== false) {\n\t\t\t\t$edit.show();\n\t\t\t\t$submit.hide();\n\t\t\t\t$nameInput.hide();\n\t\t\t\t$nameText\n\t\t\t\t\t.show()\n\t\t\t\t\t.text(name)\n\t\t\t\t\t.attr('title', name);\n\n\t\t\t\tthis.name = name;\n\t\t\t}\n\n\t\t});\n\n\t\t$nameInput.on('blur', () => $submit.click());\n\n\t\t$delete.on('click', (e) => {\n\n\t\t\te.stopPropagation();\n\n\t\t\tpopup({\n\t\t\t\tcontent: '是否确认删除分组，<br />删除后将不可恢复。',\n\t\t\t\tconfirm: () => {\n\t\t\t\t\tthis.emit('delete');\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t}\n\n\tgetElement() {\n\t\treturn this.$el;\n\t}\n\n\tgetName() {\n\t\treturn this.name;\n\t}\n\n\tsetName(name) {\n\t\tthis.name = name;\n\n\t\tthis.$el\n\t\t\t.find('.js-name')\n\t\t\t.attr('title', name)\n\t\t\t.text(name);\n\n\t\treturn this;\n\t}\n\n\tsetActive() {\n\t\tthis.$el.addClass('active');\n\t\treturn this;\n\t}\n\n\tremoveActive() {\n\t\tthis.$el.removeClass('active');\n\t\treturn this;\n\t}\n\n\tappend($area) {\n\t\tthis.areas.push($area.bind(this));\n\t\treturn this;\n\t}\n\n\tremove($area) {\n\t\t$area.remove();\n\t}\n\n\temit(event, ...params) {\n\t\tif (typeof this[event + 'Handler'] === 'function') {\n\t\t\treturn this[event + 'Handler'](...params);\n\t\t}\n\t}\n\n\ton(event, handler) {\n\t\tthis[event + 'Handler'] = handler;\n\t\treturn this;\n\t}\n\n}\n\nmodule.exports = GroupItem;","(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()({1:[function(require,module,exports){\nconst $ = require('./module/dom.js');\nconst Uploader = require('./module/uploader.js');\nconst Canvas = require('./module/canvas.js');\nconst GroupList = require('./module/group-list.js');\nconst GroupItem = require('./module/group-item.js');\n\n(function() {\n\n\tconst $uploader = new Uploader('#upload-file');\n\tconst $groupList = new GroupList('#group');\n\tconst $canvas = new Canvas('#canvas');\n\n\t// const $main = $('#main');\n\n\t/* 索引页 */\n\tconst $index = $('#index');\n\tconst $uploadImg = $('#upload-img');\n\t// const $uploadOption = $('#upload-option');\n\n\t$index.on('animationend', () => $index.remove());\n\n\t$uploadImg.on('click', () => {\n\t\t$uploader.open({\n\t\t\tname: '图片',\n\t\t\taccept: 'image/*'\n\t\t}).on('success', (data) => {\n\t\t\t$canvas.setImage(data);\n\t\t\t$index.addClass('hide');\n\t\t});\n\t});\n\n\t/* 画布操作 */\n\tconst $zoomIn = $('#zoom-in');\n\tconst $zoomOut = $('#zoom-out');\n\tconst $replaceImg = $('#replace-img');\n\n\t// $canvas.bind($groupList);\n\n\t$zoomIn.on('click', () => $canvas.zoomIn());\n\n\t$zoomOut.on('click', () => $canvas.zoomOut());\n\n\t$replaceImg.on('click', () => {\n\t\t$uploader.open({\n\t\t\tname: '图片',\n\t\t\taccept: 'image/*'\n\t\t}).on('success', (data) => {\n\t\t\t$canvas.setImage(data);\n\t\t});\n\t});\n\n\t/* 分组操作 */\n\tconst $addGroup = $('#add-group');\n\tconst $search = $('#search');\n\tconst $current = $('#current');\n\n\t$groupList.setCanvas($canvas);\n\n\t$groupList.on('activeChange', ($item) => {\n\t\t$current.text($item.getName());\n\t});\n\n\t$addGroup.on('click', () => {\n\t\t$groupList.append(new GroupItem());\n\t}).click();\n\n\t$search.on('input', () => {\n\t\t$groupList.children.forEach(($child) => {\n\t\t\tif ($child.getName().indexOf($search.value()) === -1) {\n\t\t\t\t$child.getElement().show();\n\t\t\t} else {\n\t\t\t\t$child.getElement().hide();\n\t\t\t}\n\t\t});\n\t});\n\n})();\n},{\"./module/canvas.js\":2,\"./module/dom.js\":3,\"./module/group-item.js\":4,\"./module/group-list.js\":5,\"./module/uploader.js\":8}],2:[function(require,module,exports){\nconst $ = require('./dom.js');\nconst Util = require('./util.js');\n\nconst widthUtil = new Util();\nconst heightUtil = new Util();\n\nclass Canvas {\n\n\tconstructor(selector) {\n\t\tthis.$el = $(selector);\n\t\tthis.$img = this.$el.find('.pic');\n\t\tthis.$areas = this.$el.find('.areas');\n\t}\n\n\tbind($group) {\n\t\tthis.$group = $group;\n\t}\n\n\tinit() {\n\t\tthis.scale = 1;\n\t\tthis.$img.clearStyle();\n\t\tthis.width = widthUtil.toFloat(this.$img.width());\n\t\tthis.height = heightUtil.toFloat(this.$img.height());\n\t\tthis.update();\n\t}\n\n\tupdate() {\n\t\tthis.$img.width(widthUtil.toString(this.width * this.scale));\n\t\tthis.$img.height(heightUtil.toString(this.height * this.scale));\n\t}\n\n\tsetImage(src) {\n\t\tthis.$img.attr('src', src);\n\t\tthis.$img.on('load', () => this.init(), true);\n\t}\n\n\tzoomIn(count = 0.1) {\n\t\tthis.scale += count;\n\t\tthis.update();\n\t}\n\n\tzoomOut(count = 0.1) {\n\t\tif (this.scale > count * 2) {\n\t\t\tthis.scale -= count;\n\t\t\tthis.update();\n\t\t}\n\t}\n\n}\n\nmodule.exports = Canvas;\n},{\"./dom.js\":3,\"./util.js\":9}],3:[function(require,module,exports){\nclass DOM {\n\n\tconstructor(selector, el = document) {\n\t\tif (/^<\\w+[\\s\\w\\=\\-\\\"\\;]*>[\\w\\W]*<\\/\\w+>$/.test(selector)) {\n\t\t\tthis.el = document.createElement('div');\n\t\t\tthis.html(selector);\n\t\t\tthis.el = this.el.firstChild;\n\t\t\tthis.els = [this.el];\n\t\t} else if (typeof selector === 'object') {\n\n\t\t\tif (selector instanceof DOM) {\n\t\t\t\tthis.el = selector.getElement();\n\t\t\t\tthis.els = selector.getElements();\n\n\t\t\t} else {\n\t\t\t\tthis.el = selector;\n\t\t\t\tthis.els = [selector];\t\n\t\t\t}\n\t\t\t\n\t\t} else {\n\t\t\tthis.els = el.querySelectorAll(selector);\n\t\t\tthis.el = this.els[0];\n\t\t}\n\t}\n\n\teach(handler) {\n\t\tthis.els.forEach((el) => {\n\t\t\thandler(el);\n\t\t});\n\t}\n\n\tfind(selector) {\n\t\treturn new DOM(selector, this.el);\n\t}\n\n\ton(event, handler, isSingle) {\n\t\tif (isSingle) {\n\t\t\tthis.el['on' + event] = handler;\n\t\t} else {\n\t\t\tthis.el.addEventListener(event, handler);\n\t\t}\n\t\treturn this;\n\t}\n\n\toff(event, handler) {\n\t\tthis.el.removeEventListener(event, handler);\n\t\treturn this;\n\t}\n\n\tattr(key, value) {\n\t\tif (value !== undefined) {\n\t\t\tthis.el.setAttribute(key, value);\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn this.el.getAttribute(key, value);\n\t\t}\n\t}\n\n\tremoveAttr(key) {\n\t\tthis.el.removeAttribute(key);\n\t\treturn this;\n\t}\n\n\taddClass(...names) {\n\t\tthis.el.classList.add(...names);\n\t\treturn this;\n\t}\n\n\tremoveClass(...names) {\n\t\tthis.el.classList.remove(...names);\n\t\treturn this;\n\t}\n\n\thasClass(name) {\n\t\treturn this.el.classList.contains(name);\n\t}\n\n\twidth(val) {\n\t\treturn this.css('width', val);\n\t}\n\n\theight(val) {\n\t\treturn this.css('height', val);\n\t}\n\n\tcss(name, val) {\n\t\tif (val !== undefined) {\n\t\t\tthis.el.style[name] = val;\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn window.getComputedStyle(this.el)[name];\n\t\t}\n\t}\n\n\tclearStyle() {\n\t\tthis.el.style.cssText = '';\n\t\treturn this;\n\t}\n\n\tgetElement() {\n\t\treturn this.el;\n\t}\n\n\tgetElements() {\n\t\treturn this.els;\n\t}\n\n\tappend(el) {\n\t\tif (el instanceof DOM) {\n\t\t\tel = el.getElement();\n\t\t}\n\t\tthis.el.appendChild(el);\n\t\treturn this;\n\t}\n\n\tremove() {\n\t\tthis.el.remove();\n\t\treturn this;\n\t}\n\n\treplace(el) {\n\t\tif (el instanceof DOM) {\n\t\t\tel = el.getElement();\n\t\t}\n\t\tthis\n\t\t.el\n\t\t.parentNode\n\t\t.replaceChild(el, this.el);\n\t\treturn this;\n\t}\n\n\thtml(html) {\n\t\tif (html !== undefined) {\n\t\t\tthis.el.innerHTML = html;\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn this.el.innerHTML;\n\t\t}\n\t}\n\n\ttext(str) {\n\t\tif (str !== undefined) {\n\t\t\tthis.el.innerText = str;\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn this.el.innerText;\n\t\t}\n\t}\n\n\tvalue(val) {\n\t\tif (val !== undefined) {\n\t\t\tthis.el.value = val;\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn this.el.value;\n\t\t}\n\t}\n\n\tparent() {\n\t\treturn new DOM(this.el.parentNode);\n\t}\n\n\tchild() {\n\t\treturn [...this.el.children].map((el) => {\n\t\t\treturn new DOM(el);\n\t\t});\n\t}\n\n\tshow() {\n\t\tthis.removeClass('hidden');\n\t\treturn this;\n\t}\n\n\thide() {\n\t\tthis.addClass('hidden');\n\t\treturn this;\n\t}\n\n\tclick() {\n\t\tthis.el.click();\n\t\treturn this;\n\t}\n}\n\nmodule.exports = (selector) => new DOM(selector);\n},{}],4:[function(require,module,exports){\nconst $ = require('./dom.js');\nconst popup = require('./popup.js');\n\nclass GroupItem {\n\tconstructor() {\n\t\tthis.$el = $(`<li class=\"item mark\">\n\t\t\t<span class=\"js-status status\">\n\t\t\t\t<i class=\"js-show icon icon-show\" title=\"隐藏\"></i>\n\t\t\t\t<i class=\"js-hide icon icon-hide hidden\" title=\"显示\"></i>\n\t\t\t</span>\n\t\t\t\n\t\t\t<p class=\"js-name single-line\" title=\"分组名\">分组名</p>\n\t\t\t<input class=\"js-input edit-text hidden\" autocomplete=\"off\"/>\n\n\t\t\t<span class=\"ctrl\">\n\t\t\t\t<i class=\"js-edit icon icon-edit\" title=\"重命名\"></i>\n\t\t\t\t<i class=\"js-submit icon icon-submit hidden\" title=\"确定\"></i>\n\t\t\t\t<i class=\"js-delete icon icon-delete\" title=\"删除\"></i>\n\t\t\t</span>\n\t\t</li>`);\n\n\t\tthis.areas = [];\n\n\t\tlet $status = this.$el.find('.js-status');\n\t\tlet $showStatus = this.$el.find('.js-show');\n\t\tlet $hideStatus = this.$el.find('.js-hide');\n\n\t\tlet $nameText = this.$el.find('.js-name');\n\t\tlet $nameInput = this.$el.find('.js-input');\n\t\tlet $edit = this.$el.find('.js-edit');\n\t\tlet $submit = this.$el.find('.js-submit');\n\n\t\tlet $delete = this.$el.find('.js-delete');\n\n\t\tthis.$el.on('click', () => this.emit('click'));\n\n\t\t$status.on('click', (e) => {\n\n\t\t\te.stopPropagation();\n\n\t\t\tif ($showStatus.hasClass('hidden')) {\n\t\t\t\tlet flag = this.emit('status', true);\n\n\t\t\t\tif (flag !== false) {\n\t\t\t\t\t$showStatus.show();\n\t\t\t\t\t$hideStatus.hide();\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tlet flag = this.emit('status', false);\n\n\t\t\t\tif (flag !== false) {\n\t\t\t\t\t$showStatus.hide();\n\t\t\t\t\t$hideStatus.show();\n\t\t\t\t}\n\t\t\t}\n\n\t\t});\n\n\t\t$edit.on('click', (e) => {\n\n\t\t\te.stopPropagation();\n\n\t\t\t$edit.hide();\n\t\t\t$submit.show();\n\t\t\t$nameText.hide();\n\t\t\t$nameInput\n\t\t\t\t.show()\n\t\t\t\t.value($nameText.text());\n\t\t});\n\n\t\t$submit.on('click', (e) => {\n\n\t\t\te.stopPropagation();\n\n\t\t\tlet name = $nameInput.value();\n\n\t\t\tlet flag = this.emit('rename', name);\n\n\t\t\tif (flag !== false) {\n\t\t\t\t$edit.show();\n\t\t\t\t$submit.hide();\n\t\t\t\t$nameInput.hide();\n\t\t\t\t$nameText\n\t\t\t\t\t.show()\n\t\t\t\t\t.text(name)\n\t\t\t\t\t.attr('title', name);\n\n\t\t\t\tthis.name = name;\n\t\t\t}\n\n\t\t});\n\n\t\t$nameInput.on('blur', () => $submit.click());\n\n\t\t$delete.on('click', (e) => {\n\n\t\t\te.stopPropagation();\n\n\t\t\tpopup({\n\t\t\t\tcontent: '是否确认删除分组，<br />删除后将不可恢复。',\n\t\t\t\tconfirm: () => {\n\t\t\t\t\tthis.emit('delete');\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t}\n\n\tgetElement() {\n\t\treturn this.$el;\n\t}\n\n\tgetName() {\n\t\treturn this.name;\n\t}\n\n\tsetName(name) {\n\t\tthis.name = name;\n\n\t\tthis.$el\n\t\t\t.find('.js-name')\n\t\t\t.attr('title', name)\n\t\t\t.text(name);\n\n\t\treturn this;\n\t}\n\n\tsetActive() {\n\t\tthis.$el.addClass('active');\n\t\treturn this;\n\t}\n\n\tremoveActive() {\n\t\tthis.$el.removeClass('active');\n\t\treturn this;\n\t}\n\n\tappend($area) {\n\t\tthis.areas.push($area.bind(this));\n\t\treturn this;\n\t}\n\n\tremove($area) {\n\t\t$area.remove();\n\t}\n\n\temit(event, ...params) {\n\t\tif (typeof this[event + 'Handler'] === 'function') {\n\t\t\treturn this[event + 'Handler'](...params);\n\t\t}\n\t}\n\n\ton(event, handler) {\n\t\tthis[event + 'Handler'] = handler;\n\t\treturn this;\n\t}\n\n}\n\nmodule.exports = GroupItem;\n},{\"./dom.js\":3,\"./popup.js\":6}],5:[function(require,module,exports){\nconst $ = require('./dom.js');\nconst toast = require('./toast.js');\n\nclass GroupList {\n\tconstructor(selector) {\n\t\tthis.$el = $(selector);\n\t\tthis.children = [];\n\t\tthis.index = 0;\n\t}\n\n\tbind($canvas) {\n\t\tthis.$canvas = $canvas;\n\t\treturn this;\n\t}\n\n\tcheck() {\n\t\tif (this.children.indexOf(this.$acitve) === -1) {\n\t\t\tlet $item = this.children[0];\n\t\t\tthis.$acitve = $item.setActive();\n\t\t\tthis.emit('activeChange', $item);\n\t\t}\n\t\treturn this;\n\t}\n\n\tchoose($item) {\n\t\tthis.$acitve = $item.setActive();\n\t\tthis.emit('activeChange', $item);\n\n\t\tthis.children.forEach(($child) => {\n\t\t\tif ($child !== this.$acitve) {\n\t\t\t\t$child.removeActive();\n\t\t\t}\n\t\t});\n\t\treturn this;\n\t}\n\n\tappend($item) {\n\t\tthis.$el.append($item.getElement());\n\t\tthis.children.push($item);\n\t\tthis.check();\n\t\treturn this;\n\t}\n\n\tremove($item) {\n\t\tif (this.children.length > 1) {\n\t\t\t$item.getElement().remove();\n\t\t\tthis.children.splice(this.children.indexOf($item), 1);\n\t\t\tthis.check();\n\t\t} else {\n\t\t\ttoast('删除失败，至少保留一个分组', 'error');\n\t\t}\n\t\treturn this;\n\t}\n\n\temit(event, ...params) {\n\t\tif (typeof this[event + 'Handler'] === 'function') {\n\t\t\treturn this[event + 'Handler'](...params);\n\t\t}\n\t}\n\n\ton(event, handler) {\n\t\tthis[event + 'Handler'] = handler;\n\t\treturn this;\n\t}\n}\n\nmodule.exports = GroupList;\n},{\"./dom.js\":3,\"./toast.js\":7}],6:[function(require,module,exports){\nconst $ = require('./dom.js');\n\nlet $body = $('body');\n\nlet $popup = $(`<div class=\"popup\">\n\t<div class=\"box\">\n\t\t<div class=\"js-title title\"></div>\n\t\t<div class=\"js-content content\"></div>\n\t\t<div class=\"btns\">\n\t\t\t<button class=\"js-cancel cancel\">取消</button>\n\t\t\t<button class=\"js-confirm confirm ml\">确定</button>\n\t\t</div>\n\t</div>\n</div>`);\n\nlet $title = $popup.find('.js-title');\nlet $content = $popup.find('.js-content');\nlet $cancel = $popup.find('.js-cancel');\nlet $confirm = $popup.find('.js-confirm');\n\n$popup.on('animationend', () => {\n\tif ($popup.hasClass('fade-out')) {\n\t\t$popup.removeClass('fade-out');\n\t\t$popup.remove();\n\t}\n\n\tif ($popup.hasClass('fade-in')) {\n\t\t$popup.removeClass('fade-in');\n\t}\n});\n\nmodule.exports = (options = {}) => {\n\n\tif (typeof options === 'string') {\n\t\toptions = {\n\t\t\tcontent: options\n\t\t};\n\t}\n\n\t$title.text(options.title || '提示');\n\n\t$content.html(options.content || '');\n\n\t$cancel.on('click', () => {\n\t\tif (typeof options.cancel === 'function') {\n\t\t\tlet flag = options.cancel();\n\t\t\tif (flag === 'false') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t$popup.addClass('fade-out');\n\t}, true);\n\n\t$confirm.on('click', () => {\n\t\tif (typeof options.confirm === 'function') {\n\t\t\tlet flag = options.confirm();\n\t\t\tif (flag === 'false') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t$popup.addClass('fade-out');\n\t}, true);\n\n\t$body.append($popup.addClass('fade-in'));\n};\n},{\"./dom.js\":3}],7:[function(require,module,exports){\nconst $ = require('./dom.js');\n\nlet $body = $('body');\n\nlet $toast = $(`<div class=\"toast\">\n\t<i class=\"js-icon icon\"></i>\n\t<span class=\"js-text\"></span>\n</div>`);\n\nlet $icon = $toast.find('.js-icon');\nlet $text = $toast.find('.js-text');\n\n$toast.on('animationend', () => {\n\t$toast.remove();\n});\n\nmodule.exports = (str, type = 'prompt') => {\n\t$toast\n\t\t.removeClass('success')\n\t\t.removeClass('error')\n\t\t.removeClass('prompt')\n\t\t.addClass(type);\n\n\t$icon\n\t\t.removeClass('icon-success')\n\t\t.removeClass('icon-error')\n\t\t.removeClass('icon-prompt')\n\t\t.addClass(`icon-${ type }`);\n\n\t$text.text(str);\n\n\t$body.append($toast);\n};\n},{\"./dom.js\":3}],8:[function(require,module,exports){\nconst $ = require('./dom.js');\n\nclass Uploader {\n\n\tconstructor(selector) {\n\n\t\tthis.$el = $(selector);\n\n\t\tthis.init();\n\n\t\tthis.$el.on('change', () => {\n\t\t\tlet file = this.$el.getElement().files[0];\n\n\t\t\tif (!file) {\n\t\t\t\tthis.$el.value('');\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet flag = this.emit('choose', file);\n\t\t\tif (flag === false) {\n\t\t\t\tthis.$el.value('');\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet reader = new FileReader();\n\n\t\t\treader.onload = (e) => {\n\t\t\t\tthis.emit('success', e.target.result, e);\n\t\t\t};\n\n\t\t\treader.onerror = function(e) {\n\t\t\t\tthis.emit('error', e);\n\t\t\t};\n\n\t\t\treader.readAsDataURL(file);\n\n\t\t\tthis.$el.value('');\n\t\t});\n\t}\n\n\tinit() {\n\t\tthis.successHandler = () => {};\n\t\tthis.errorHandler = () => alert((this.options.name || '文件') + '读取错误');\n\t\tthis.$el.removeAttr('accept');\n\t}\n\n\topen(options) {\n\t\tthis.init();\n\t\tthis.options = options || {};\n\n\t\tif (this.options.accept) {\n\t\t\tthis.$el.attr('accept', options.accept);\n\t\t}\n\n\t\tthis.$el.click();\n\n\t\treturn this;\n\t}\n\n\ton(event, handler) {\n\t\tthis[event + 'Handler'] = handler;\n\t\treturn this;\n\t}\n\n\temit(event, ...params) {\n\t\tif (typeof this[event + 'Handler'] === 'function') {\n\t\t\treturn this[event + 'Handler'](...params);\n\t\t}\n\t}\n}\n\nmodule.exports = Uploader;\n},{\"./dom.js\":3}],9:[function(require,module,exports){\nclass Util {\n\ttoFloat(str) {\n\t\tstr.match(/^(\\d+)([a-zA-Z]*)$/);\n\t\tthis.unit = RegExp.$2;\n\t\treturn RegExp.$1;\n\t}\n\n\ttoString(num) {\n\t\treturn num + this.unit;\n\t}\n}\n\nmodule.exports = Util;\n},{}]},{},[1])\n\n","const $ = require('./dom.js');\nconst toast = require('./toast.js');\n\nclass GroupList {\n\tconstructor(selector) {\n\t\tthis.$el = $(selector);\n\t\tthis.children = [];\n\t\tthis.index = 0;\n\t}\n\n\tbind($canvas) {\n\t\tthis.$canvas = $canvas;\n\t\treturn this;\n\t}\n\n\tcheck() {\n\t\tif (this.children.indexOf(this.$acitve) === -1) {\n\t\t\tlet $item = this.children[0];\n\t\t\tthis.$acitve = $item.setActive();\n\t\t\tthis.emit('activeChange', $item);\n\t\t}\n\t\treturn this;\n\t}\n\n\tchoose($item) {\n\t\tthis.$acitve = $item.setActive();\n\t\tthis.emit('activeChange', $item);\n\n\t\tthis.children.forEach(($child) => {\n\t\t\tif ($child !== this.$acitve) {\n\t\t\t\t$child.removeActive();\n\t\t\t}\n\t\t});\n\t\treturn this;\n\t}\n\n\tappend($item) {\n\t\tthis.$el.append($item.getElement());\n\t\tthis.children.push($item);\n\t\tthis.check();\n\t\treturn this;\n\t}\n\n\tremove($item) {\n\t\tif (this.children.length > 1) {\n\t\t\t$item.getElement().remove();\n\t\t\tthis.children.splice(this.children.indexOf($item), 1);\n\t\t\tthis.check();\n\t\t} else {\n\t\t\ttoast('删除失败，至少保留一个分组', 'error');\n\t\t}\n\t\treturn this;\n\t}\n\n\temit(event, ...params) {\n\t\tif (typeof this[event + 'Handler'] === 'function') {\n\t\t\treturn this[event + 'Handler'](...params);\n\t\t}\n\t}\n\n\ton(event, handler) {\n\t\tthis[event + 'Handler'] = handler;\n\t\treturn this;\n\t}\n}\n\nmodule.exports = GroupList;","const $ = require('./dom.js');\n\nlet $body = $('body');\n\nlet $popup = $(`<div class=\"popup\">\n\t<div class=\"box\">\n\t\t<div class=\"js-title title\"></div>\n\t\t<div class=\"js-content content\"></div>\n\t\t<div class=\"btns\">\n\t\t\t<button class=\"js-cancel cancel\">取消</button>\n\t\t\t<button class=\"js-confirm confirm ml\">确定</button>\n\t\t</div>\n\t</div>\n</div>`);\n\nlet $title = $popup.find('.js-title');\nlet $content = $popup.find('.js-content');\nlet $cancel = $popup.find('.js-cancel');\nlet $confirm = $popup.find('.js-confirm');\n\n$popup.on('animationend', () => {\n\tif ($popup.hasClass('fade-out')) {\n\t\t$popup.removeClass('fade-out');\n\t\t$popup.remove();\n\t}\n\n\tif ($popup.hasClass('fade-in')) {\n\t\t$popup.removeClass('fade-in');\n\t}\n});\n\nmodule.exports = (options = {}) => {\n\n\tif (typeof options === 'string') {\n\t\toptions = {\n\t\t\tcontent: options\n\t\t};\n\t}\n\n\t$title.text(options.title || '提示');\n\n\t$content.html(options.content || '');\n\n\t$cancel.on('click', () => {\n\t\tif (typeof options.cancel === 'function') {\n\t\t\tlet flag = options.cancel();\n\t\t\tif (flag === 'false') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t$popup.addClass('fade-out');\n\t}, true);\n\n\t$confirm.on('click', () => {\n\t\tif (typeof options.confirm === 'function') {\n\t\t\tlet flag = options.confirm();\n\t\t\tif (flag === 'false') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t$popup.addClass('fade-out');\n\t}, true);\n\n\t$body.append($popup.addClass('fade-in'));\n};","const $ = require('./dom.js');\n\nlet $body = $('body');\n\nlet $toast = $(`<div class=\"toast\">\n\t<i class=\"js-icon icon\"></i>\n\t<span class=\"js-text\"></span>\n</div>`);\n\nlet $icon = $toast.find('.js-icon');\nlet $text = $toast.find('.js-text');\n\n$toast.on('animationend', () => {\n\t$toast.remove();\n});\n\nmodule.exports = (str, type = 'prompt') => {\n\t$toast\n\t\t.removeClass('success')\n\t\t.removeClass('error')\n\t\t.removeClass('prompt')\n\t\t.addClass(type);\n\n\t$icon\n\t\t.removeClass('icon-success')\n\t\t.removeClass('icon-error')\n\t\t.removeClass('icon-prompt')\n\t\t.addClass(`icon-${ type }`);\n\n\t$text.text(str);\n\n\t$body.append($toast);\n};","const $ = require('./dom.js');\n\nclass Uploader {\n\n\tconstructor(selector) {\n\n\t\tthis.$el = $(selector);\n\n\t\tthis.init();\n\n\t\tthis.$el.on('change', () => {\n\t\t\tlet file = this.$el.getElement().files[0];\n\n\t\t\tif (!file) {\n\t\t\t\tthis.$el.value('');\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet flag = this.emit('choose', file);\n\t\t\tif (flag === false) {\n\t\t\t\tthis.$el.value('');\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet reader = new FileReader();\n\n\t\t\treader.onload = (e) => {\n\t\t\t\tthis.emit('success', e.target.result, e);\n\t\t\t};\n\n\t\t\treader.onerror = function(e) {\n\t\t\t\tthis.emit('error', e);\n\t\t\t};\n\n\t\t\treader.readAsDataURL(file);\n\n\t\t\tthis.$el.value('');\n\t\t});\n\t}\n\n\tinit() {\n\t\tthis.successHandler = () => {};\n\t\tthis.errorHandler = () => alert((this.options.name || '文件') + '读取错误');\n\t\tthis.$el.removeAttr('accept');\n\t}\n\n\topen(options) {\n\t\tthis.init();\n\t\tthis.options = options || {};\n\n\t\tif (this.options.accept) {\n\t\t\tthis.$el.attr('accept', options.accept);\n\t\t}\n\n\t\tthis.$el.click();\n\n\t\treturn this;\n\t}\n\n\ton(event, handler) {\n\t\tthis[event + 'Handler'] = handler;\n\t\treturn this;\n\t}\n\n\temit(event, ...params) {\n\t\tif (typeof this[event + 'Handler'] === 'function') {\n\t\t\treturn this[event + 'Handler'](...params);\n\t\t}\n\t}\n}\n\nmodule.exports = Uploader;","class Util {\n\ttoFloat(str) {\n\t\tstr.match(/^(\\d+)([a-zA-Z]*)$/);\n\t\tthis.unit = RegExp.$2;\n\t\treturn RegExp.$1;\n\t}\n\n\ttoString(num) {\n\t\treturn num + this.unit;\n\t}\n}\n\nmodule.exports = Util;"]}